var partner = {"openapi":"3.0.1","info":{"title":"会员 Saas 租户系统　Member Tenant System API","description":"通过会员 Saas 租户系统进行对租户的管理。\n## 全局参数说明\n### header请求参数字段\n  ### frontend接口\n  - x-tenant-id 已切换租户需要在header中带上租户id\n  - x-language 已切换语言版本\n\n  #### internal接口\n  - x-access-token 是系统颁发的 accessToken\n\n  #### partner接口\n  - x-api-key 是系统颁发的 api-key\n  - x-api-secret 是系统颁发的 api-secret\n\n## 说明\n  接口返回格式统一为\n\n  ```\n    {\n        \"code\": 0,\n        \"message\": \"success\",\n        \"data\": {\n        }\n    }\n  ```\n\n  - `http status`: 200 和 500，除内部错误为500外，其它均为200，业务错误码通过code标识\n  - `code`: 错误码标识，只有为`0`表示成功\n  - `message`: 简要说明，如`code`为`0`时值为`success`\n  - `data`: 接口返回具体的数据，部分接口`data`为空\n\n  **详细错误码参见**：底部`Models`中的`ErrorCodes`","version":"1.0.1"},"servers":[{"url":"https://member-tenant-system.dev/api/v1"}],"components":{"collect":{"PointsDetail":{"type":"object","properties":{"raw_out_sn":{"type":"string","description":"外部流水号","example":"jdskjdklsajderieorieoi#3939948484","required":true},"id":{"type":"string","description":"内部流水号","example":12883,"required":true},"account_id":{"type":"integer","description":"用户的 account_id","example":4294976823,"required":true},"role_type":{"type":"string","description":"账户的类型:会员账户 商户账户 运营账户 可运营商户","example":"可运营商户","required":true},"created_at":{"type":"string","description":"记录创建时间","example":"2018-08-12T15:19:21+08:00","required":false},"currency_type":{"type":"string","description":"币种","example":"RMB","required":false},"before_balance_amount":{"type":"int","description":"变更前积分余额","example":20000,"required":false},"amount":{"type":"int","description":"变更积分数量","example":200,"required":false},"after_balance_amount":{"type":"int","description":"变更后积分余额","example":20000,"required":false},"to_account_role_type":{"type":"string","description":"账户角色:会员账户 商户账户 运营账户 可运营商户","example":"可运营商户","required":false},"from_account_id":{"type":"int","description":"交易发起方账户的 account_id","example":4294976823,"required":false}}},"BalanceList":{"type":"object","properties":{"id":{"type":"int","description":"编号","example":7945779,"required":true},"count_date":{"type":"int","description":"日期","example":"2019-09-24","required":true},"account_id":{"type":"int","description":"用户id","example":324257,"required":true},"role_type":{"type":"string","description":"账户角色:会员账户 商户账户 运营账户 可运营商户","example":"会员账户","required":true},"begining_balance_cent":{"type":"int","description":"期初余额","example":"期初余额","required":true},"ending_balance_cent":{"type":"int","description":"期末余额","example":"期末余额","required":true},"incr_grant_cent":{"type":"int","description":"积分授予","example":0,"required":true},"incr_transaction_cent":{"type":"int","description":"内部转入","example":0,"required":true},"decr_transaction_cent":{"type":"int","description":"内部转出","example":0,"required":true},"decr_clear_cent":{"type":"string","description":"积分清零","example":0,"required":true},"real_balance_cent":{"type":"int","description":"系统余额","example":0,"required":true},"created_at":{"type":"string","description":"创建时间","example":"2018-08-12 15:19:21 08:00","required":true},"updated_at":{"type":"string","description":"更新时间","example":"2018-08-12 15:19:21 08:00","required":true}}},"SearchConfig":{"type":"object"}},"entry":{"AccountBase":{"type":"object","properties":{"app_key":{"type":"string","required":true,"example":"76b6a482c22f09ce","description":"所属app的app key"},"mobile":{"type":"string","required":true,"example":"+8617600001111","description":"手机号，必须带上区号"},"mobile_verified":{"type":"bool","required":false,"example":true,"default":false,"description":"手机号码是否已经验证通过"},"email":{"type":"string","required":false,"example":"aaa@gmail.com","description":"邮箱"},"email_verified":{"type":"bool","required":false,"example":true,"default":false,"description":"邮箱是否已经验证通过"},"password":{"type":"string","required":true,"example":"e10adc3949ba59abbe56e057f20f883e","description":"用户新密码,需md5"}}},"AccountUpdate":{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号ID","example":1000,"required":true},"nickname":{"description":"昵称","type":"string","example":"hello","required":false},"last_name":{"description":"姓","type":"string","example":"马","required":false},"first_name":{"description":"名","type":"string","example":"云","required":false},"full_name":{"description":"全名","type":"string","example":"马云","required":false},"avatar_url":{"description":"头像","type":"string","example":"http://www.images.com/xxx.jpg","required":false},"gender":{"description":"性别","type":"integer","example":1,"required":false},"birth_date":{"description":"出生日期","type":"string","example":"19950808","required":false},"mobile":{"description":"手机号码","type":"string","example":"+8618856934208","required":false},"email":{"description":"邮箱","type":"string","example":"ewrtgf@qq.com","required":false},"id_card":{"description":"身份证号","type":"string","example":"123456789","required":false},"passport_number":{"description":"护照号码","type":"string","example":"123456789","required":false},"driver_licence":{"description":"驾驶证","type":"string","example":"123456789","required":false},"hk_macao_pass":{"description":"港澳通行证","type":"string","example":"123456789","required":false},"military_officer":{"description":"军官证","type":"string","example":"123456789","required":false},"taiwan_pass":{"description":"往来台湾通行证","type":"string","example":"123456789","required":false},"birth_certificate":{"description":"出生证","type":"string","example":"123456789","required":false},"tour_guide_licence":{"description":"导游证","type":"string","example":"123456789","required":false},"nationality":{"description":"国籍","type":"int","example":86,"required":false},"education":{"description":"学历","type":"int","example":2,"required":false},"occupation":{"description":"职业","type":"string","example":"董事长","required":false},"zodiac":{"description":"星座","type":"int","example":2,"required":false},"blood_type":{"description":"血型","type":"int","example":2,"required":false}},"required":["account_id"]},"AccountProfile":{"allOf":[{"$ref":"#/components/entry/AccountUpdate"},{"type":"object","properties":{"google_email":{"description":"Google邮箱","type":"string","example":"ewrtgf@qq.com"},"facebook_email":{"description":"Facebook邮箱","type":"string","example":"ewrtgf@qq.com"},"twitter_email":{"description":"Twitter账号","type":"string","example":"ewrtgf@qq.com"},"wechat_id":{"description":"微信账号","type":"string","example":"sdturertu"},"qq_integer":{"description":"qq账号","type":"string","example":"56746513"},"weibo_id":{"description":"微博账号","type":"string","example":"asdgfsdhdf"},"id_card":{"description":"身份证号","type":"string","example":"123456789"},"has_password":{"description":"是否设置登录密码(0:否,1:是)","type":"boolean","example":true},"mobile_verified":{"description":"手机号是否已验证(0:否,1:是)","type":"boolean","example":true},"email_verified":{"description":"邮箱是否已验证(0:否,1:是)","type":"boolean","example":true},"status":{"description":"账号状态(0:正常,1:冻结)","type":"integer","example":1},"source_app_key":{"description":"注册来源APP","type":"string","example":"xtuYTDnHsRpcJqxcUUQJmbq9FgxS3c49"},"source_type":{"description":"注册类型(0:未知,1:注册,2:导入)","type":"integer","example":1},"created_at":{"description":"注册时间","type":"sting","example":"2018-08-08 08:08:08"}}}]},"Account":{"type":"object","description":"用户信息全集，实际返回的信息来自配置的用户字典，属于此用户字典集的子集","properties":{"profile":{"$ref":"#/components/entry/AccountProfile"},"status_data":{"type":"object","properties":{"third_party_login_bindings":{"type":"array","items":{"type":"string"}}}}}},"Accounts":{"type":"object","properties":{"list":{"type":"array","items":{"type":"object","properties":{"profile":{"$ref":"#/components/entry/AccountProfile"},"status_data":{"type":"object","properties":{"third_party_login_bindings":{"type":"array","items":{"type":"string"}}}}}}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"Logs":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/schemas/Log"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"AccountAvatar":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","description":"头像信息","properties":{"origin_url":{"type":"string","description":"图片更新地址，更新账户头像时用此地址","example":"https://www.google.com"},"thumb_url":{"type":"string","description":"缩略图地址，根据width×height生成，用于展示","example":"https://www.google.com"}}}}},"AccountGradeRuleBase":{"type":"object","properties":{"validity_type":{"type":"integer","description":"等级有效期算法（0长期）","example":0},"validity":{"type":"integer","description":"有效期值","example":1},"validity_unit":{"type":"enum","description":"有效期单位（year，month, day）","enum":["year","month","day"]},"is_realtime_update":{"type":"boolean","description":"是否实时更新（0是，1否）","example":1},"grade_name":{"type":"string","description":"会员等级点名称","example":"点"}}},"AccountGradeRule":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"等级规则ID,","example":1},"publish_status":{"type":"integer","description":"发布状态（0已发布，1未发布）","example":1}}},{"$ref":"#/components/entry/AccountGradeRuleBase"},{"$ref":"#/components/entry/AccountGradeRuleConfig"}]},"AccountGradeRuleConfig":{"type":"object","properties":{"grade_config":{"type":"array","description":"等级配置","items":{"type":"object","properties":{"no":{"type":"string","description":"等级编号","example":1},"name":{"type":"string","description":"等级名称","example":"金卡"},"lower":{"type":"integer","description":"等级点下线（含）","example":1000},"upper":{"type":"integer","description":"等级点上限（不包含）","example":2000}}}}}},"AddressBase":{"type":"object","description":"会员地址信息","properties":{"account_id":{"type":"integer","required":true,"description":"会员账号ID","example":10001},"contact":{"type":"string","required":true,"description":"联系人","example":"张三"},"mobile":{"type":"string","required":true,"description":"联系方式","example":"+8618888888888"},"mobile_extra":{"type":"string","required":false,"description":"联系方式","example":"+8613666666666"},"is_default":{"type":"bool","required":false,"description":"true:为默认地址，false：为非默认地址","example":false,"default":false},"tag":{"type":"string","required":false,"description":"地址标签","example":"公司"},"country":{"type":"string","required":false,"description":"国","example":"中国"},"province":{"type":"string","required":false,"description":"省","example":"广东省"},"city":{"type":"string","required":false,"description":"市","example":"深圳市"},"district":{"type":"string","required":false,"description":"区","example":"南山区"},"detail":{"type":"string","required":false,"description":"街道楼栋门牌","example":"粤海街道深南大道9966号威盛科技大厦602"}},"required":["account_id","contact","mobile"]},"AddressAdd":{"allOf":[{"type":"object","description":"更新会员账号信息","properties":{"address_id":{"type":"integer","description":"会员地址ID","example":2,"required":true}},"required":["address_id"]},{"$ref":"#/components/entry/AddressBase"}]},"Address":{"allOf":[{"$ref":"#/components/entry/AddressAdd"},{"type":"object","description":"会员地址信息","properties":{"selection":{"type":"object","description":"会员地址信息","properties":{"country":{"type":"array","items":{"type":"string","example":"中国"}},"province":{"type":"array","items":{"type":"string","example":"广东省"}},"city":{"type":"array","items":{"type":"string","example":"深圳市"}},"district":{"type":"array","items":{"type":"string","example":"南山区"}}}},"created_at":{"$ref":"#/components/schemas/CreatedAt"}}}]},"Addresses":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/entry/Address"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"AdminUserBase":{"type":"object","properties":{"user_name":{"type":"string","description":"姓名","example":"火火","required":true},"email":{"type":"string","description":"邮箱","example":"yixu@hk01.com","required":true},"telephone":{"type":"string","description":"手机号","example":169203947122,"required":true},"group_ids":{"type":"string","description":"用户组,填写以英文逗号分开的整数","example":12,"required":false}},"required":["user_name","email","telephone"]},"AdminUserUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"用户id","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/AdminUserBase"}]},"AdminUser":{"allOf":[{"$ref":"#/components/entry/AdminUserUpdate"},{"type":"object","properties":{"group_names":{"type":"string","description":"角色名组","example":"产品编辑,开发运维"},"is_super_admin":{"type":"integer","description":"是否为超级管理员(1为超级管理员)","example":1},"login_name":{"type":"string","description":"登录账号"},"created_at":{"$ref":"#/components/schemas/CreatedAt"}}}]},"AdminUsers":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"list":{"type":"array","items":{"$ref":"#/components/entry/User"}}}},"AdminUserGroupBase":{"type":"object","properties":{"name":{"type":"string","description":"角色名称","example":"管理员","required":true},"permissions":{"type":"string","description":"权限列表, json字符串","example":{"system_management":{"role":["index","set_rights","update","update_status","user_add","user_list"]}}}},"required":["name","permissions"]},"AdminUserGroupAdd":{"allOf":[{"type":"object","properties":{"desc":{"type":"string","description":"角色描述","example":"xxx"}}},{"$ref":"#/components/entry/AdminUserGroupBase"}]},"AdminUserGroupUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"角色id","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/AdminUserGroupAdd"}]},"AdminUserGroup":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"角色id","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/AdminUserGroupBase"},{"type":"object","properties":{"name_desc":{"type":"string","description":"角色描述","example":"xxx"},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}}]},"AdminUserGroups":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"list":{"type":"array","items":{"$ref":"#/components/entry/AdminUserGroup"}}}},"AppBase":{"type":"object","properties":{"name":{"type":"string","description":"应用名称","example":"滴滴答答","required":true},"type":{"type":"string","description":"平台类型,多个用逗号隔开 app,h5,web","example":"app,h5,web","required":true},"description":{"type":"string","description":"应用描述","example":"这是一个应用","required":true},"contact_name":{"type":"string","description":"联系人名称","example":"火火","required":true},"contact_phone":{"type":"string","description":"联系人电话","example":19883727362,"required":true},"logo":{"type":"string","description":"应用logo","example":"xxx.jpg"}},"required":["name","type","description","contact_name","contact_phone"]},"AppUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"应用id","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/AppBase"}]},"App":{"allOf":[{"$ref":"#/components/entry/AppUpdate"},{"type":null,"properties":{"api_key":{"type":"string","description":"应用key","example":"76b6a482c22f09ce"},"api_secret":{"type":"string","description":"应用secret","example":"cidlnqi5y04zpxcmbm5ahw858hpjgdch"},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}}]},"Apps":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/entry/AppUpdate"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"AppResetSecret":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"api_secret":{"type":"string","description":"应用secret","example":"TI5POKkZLJXivnGXGSOgD6bjqsOOlVmCZ01NCl9eASZYrDC2kVhJtjlanyWLkwJ0"}}}}},"AppUiConfig":{"type":"object","properties":{"app_id":{"type":"integer","description":"应用ID","example":1,"required":true},"title_image_url":{"type":"string","description":"顶部logo","example":"http://xxxx/xxx/head.png","required":true},"title":{"type":"string","description":"欢迎语标题","example":"欢迎使用saas","required":true},"title_color":{"type":"string","description":"欢迎语标题颜色值","example":"#666666","required":true},"description":{"type":"string","description":"欢迎语描述","example":"这是一个非常牛的应用","required":true},"description_color":{"type":"string","description":"欢迎语描述颜色值","example":"#666666","required":true},"privacy_statement":{"type":"string","description":"注册隐私声明URL","example":"http://xxxx/xxxx","required":true},"service_terms":{"type":"string","description":"注册使用条款及细则","example":"声明1：xxxx","required":true}},"required":["app_id","title_image_url","title","title_color","description","description_color","privacy_statement","service_terms"]},"AppSdkConfig":{"type":"object","properties":{"app_id":{"type":"integer","description":"应用ID","example":1,"required":true},"legal_domain":{"type":"string","description":"SDK校验合法域名","example":"www.xxxx.com","required":true},"redirect_url_on_success":{"type":"string","description":"邮件成功跳转地址","example":"http://www.xxxx.com/xxxx","required":true},"redirect_url_on_failure":{"type":"string","description":"邮件失败跳转地址","example":"http://www.xxxx.com/xxxx","required":true}},"required":["app_id","legal_domain","redirect_url_on_success","redirect_url_on_failure"]},"AppThirdPartyConfig":{"type":"array","items":{"type":"object","properties":{"login_type":{"type":"enum","description":"登录类别(目前支持：google_email, facebook_email, twitter_email, wechat_id)","enum":["google_email","facebook_email","twitter_email","wechat_id"],"example":"wechat_id","required":true},"third_party_app_id":{"type":"string","description":"第三方登录app_id","example":"x9j20fj2jd20g-1kjo","required":true},"third_party_app_secret":{"type":"string","description":"第三方登录app_secret","example":"YmVyLXRlbmFudC1hcGkuY29tIiwiYXVkIjoibWVtYmVyLXRlbmF","required":true},"status":{"type":"integer","decription":"配置状态（0可用，1不可用）","example":1,"required":true}},"required":["app_id","login_type","third_party_app_id","third_party_app_secret","status"]}},"AppThirdPartyConfigAdd":{"type":"object","properties":{"app_id":{"type":"integer","description":"应用ID","example":1,"required":true},"configs":{"$ref":"#/components/entry/AppThirdPartyConfig"}}},"DepartmentOperate":{"type":"object","properties":{"id":{"type":"integer","description":"部门id","example":1,"required":true},"name":{"type":"string","description":"部门名称","example":"会员部","required":true}},"required":["name"]},"Department":{"type":"object","properties":{"id":{"type":"integer","description":"部门id","example":2},"name":{"type":"string","description":"部门名称","example":"会员部"},"status":{"type":"integer","description":"状态，0未启用，1启用，2停用","example":1},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}},"Departments":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"list":{"type":"array","items":{"$ref":"#/components/entry/Department"}}}},"DictionaryBase":{"type":"object","properties":{"title":{"type":"string","description":"字段标题","example":"性别","required":true},"name":{"type":"string","description":"字段名称","example":"gender","required":true},"type":{"type":"enum","description":"字段类型","required":true,"enum":["string","number","enum","boolean"]},"length":{"type":"integer","description":"字段长度","example":32},"allow_null":{"type":"string","description":"是否允许为空","example":0},"remark":{"type":"string","description":"备注","example":"会员性别"},"is_base":{"type":"integer","description":"是否为基础字段","example":1},"status":{"type":"integer","description":"状态 (0 有效，1 新建)","example":0},"display":{"type":"integer","description":"是否展示","example":1},"enum_options":{"type":"array","items":{"type":"object","properties":{"key":{"type":"integer","description":"键","example":1},"value":{"type":"string","description":"值","example":"男"},"default":{"type":"integer","description":"是否默认","example":1}}}}},"required":["title","name","type"]},"DictionaryUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"字典ID","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/DictionaryBase"}]},"Dictionary":{"allOf":[{"$ref":"#/components/entry/DictionaryUpdate"},{"type":"object","properties":{"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}}]},"Dictionaries":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/entry/Dictionary"}}}},"EventBase":{"type":"object","properties":{"name":{"type":"string","description":"事件名称","example":"事件1","required":true},"action_tag_key":{"type":"string","description":"事件所属标签key：transaction交易，action行为动作","example":"transaction","required":true},"description":{"type":"string","description":"事件描述","example":"国庆写代码","required":true},"app_info":{"type":"object","description":"应用key与应用名称","example":"{app_key：app名称}","required":true},"event_params":{"type":"array","description":"事件参数","items":{"type":"object","properties":{"id":{"type":"integer","description":"参数id","example":1},"title":{"type":"string","description":"参数描述","example":"交易时间"},"type":{"type":"string","description":"参数类型：dateTime时间格式，string字符串，number数字","example":"交易时间"},"path":{"type":"string","description":"参数名","example":"transaction_time"}}}},"status":{"type":"integer","description":"状态，0已启用,1已停用","example":0,"required":true},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}},"EventUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"事件id","example":1,"required":true},"event_key":{"type":"string","description":"事件key","example":"1jr32u4rht4i","required":true},"edit_by":{"type":"string","description":"编辑人","example":"我","required":true}}},{"$ref":"#/components/entry/EventBase"}]},"Events":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/entry/EventUpdate"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"EventInstance":{"type":"object","properties":{"id":{"type":"integer","description":"事件实例id","example":1,"required":true},"event_id":{"type":"integer","description":"所属事件id","example":1,"required":true},"offer_entry_id":{"type":"integer","description":"发放项id","example":1,"required":true},"referred_app_id":{"type":"integer","description":"应用id","example":1,"required":true},"params":{"type":"array","description":"事件实例参数","items":{"type":"object","properties":{"param_id":{"type":"integer","description":"参数id","example":1,"required":true},"param_condition":{"type":"array","description":"参数条件","items":{"type":"object","properties":{"symbol":{"type":"string","description":"符号","example":"\n","required":true},"value":{"type":"string","description":"值","example":"swekq1","required":true}}}}}}},"status":{"type":"integer","description":"状态，0正常，1废弃","example":1,"required":true},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}},"Guest":{"type":"object","description":"游客信息","properties":{"guest_id":{"type":"int","description":"泛会员id","example":1000},"source_app_key":{"type":"string","description":"来源的appKey值","example":"0456dfd56465hh7861"},"source_channel":{"type":"string","description":"来源渠道","example":"0456dfd56465hh7861"},"source_identification":{"type":"string","description":"泛会员身份标识","example":"0456dfd56465hh7861"},"created_at":{"type":"string","description":"泛会员创建日期","example":"2019-11-14T15:32:45+08:00"},"status":{"type":"string","description":"泛会员状态,0：正常；1：已升级为会员","example":"0"},"nickname":{"description":"昵称","type":"string","example":"hello"},"last_name":{"description":"姓","type":"string","example":"马"},"first_name":{"description":"名","type":"string","example":"云"},"full_name":{"description":"全名","type":"string","example":"马云"},"avatar_url":{"description":"头像","type":"string","example":"http://www.images.com/xxx.jpg"},"gender":{"description":"性别","type":"integer","example":1},"birth_date":{"description":"出生日期，格式为 yyyy-mm-dd","type":"string","example":"1995-08-08"},"mobile":{"description":"手机号码,区号与手机号以空格分开","type":"string","example":"86 18856934208"},"email":{"description":"邮箱","type":"string","example":"ewrtgf@qq.com"},"google_email":{"description":"Google邮箱","type":"string","example":"ewrtgf@qq.com"},"facebook_email":{"description":"Facebook邮箱","type":"string","example":"ewrtgf@qq.com"},"twitter_email":{"description":"Twitter账号","type":"string","example":"ewrtgf@qq.com"},"wechat_id":{"description":"微信账号","type":"string","example":"sdturertu"},"qq_integer":{"description":"qq账号","type":"string","example":"56746513"},"weibo_id":{"description":"微博账号","type":"string","example":"asdgfsdhdf"},"id_card":{"description":"身份证号","type":"string","example":"123456789"},"passport_number":{"description":"护照号码","type":"string","example":"123456789"},"driver_licence":{"description":"驾驶证","type":"string","example":"123456789"},"travel_permit_for_hkmc":{"description":"港澳通行证","type":"string","example":"123456789"},"military_officer_certificate":{"description":"军官证","type":"string","example":"123456789"},"travel_permit_for_taiwan":{"description":"往来台湾通行证","type":"string","example":"123456789"},"birth_certificate":{"description":"出生证","type":"string","example":"123456789"},"tour_guide_licence":{"description":"导游证","type":"string","example":"123456789"},"nationality":{"description":"国籍","type":"int","example":86},"education":{"description":"学历","type":"int","example":2},"occupation":{"description":"职业","type":"string","example":"董事长"},"constellation":{"description":"星座","type":"int","example":2},"blood_type":{"description":"血型","type":"int","example":2}}},"Log":{"type":"object","description":"日志信息","properties":{"account_id":{"type":"int","description":"会员ID","example":100001},"app_key":{"type":"string","description":"APP_KEY","example":"dsfsdfsdfsdfsdfsd"},"app_name":{"type":"string","description":"APP_NAME","example":"E肚仔"},"action_type":{"description":"操作类型：1注册，2登录，3修改资料，4修改密码，5合并","type":"int","example":1},"client_info":{"description":"客户端相关信息","type":"object"},"action_data":{"description":"当前操作相关信息","type":"object"},"created_at":{"description":"创建时间","type":"string","example":"2018-09-10 11:12:21"}}},"OfferEntryBase":{"type":"object","properties":{"entry_name":{"type":"string","description":"发放项名称","example":"化身孤岛的鲸","required":true},"entry_desc":{"type":"string","description":"发放项描述","example":"xxx","required":true},"department_id":{"type":"integer","description":"部门id","example":1,"required":true},"change_type":{"type":"integer","description":"变动类型：1增加，2减少","example":1,"required":true},"stop_rule_points":{"type":"integer","description":"停发规则，积分不足当前数额时，停止发放","example":1,"required":true},"offer_account_id":{"type":"string","description":"发放项账户id","example":389275843276,"required":true},"offer_points_valid_date":{"type":"object","description":"积分有效期配置","properties":{"type":{"type":"string","description":"有效期类型：fixed_date 固定日期有效，begin_with 自领取之日开始多少天","example":"fixed_date"},"period":{"type":"string","description":"日期格式(Y-m-d) OR 多少天过期","example":"2020-10-31 23:59:59"}}},"file_name":{"type":"string","description":"附件原名称","example":"123.pdf","required":true},"file_url":{"type":"string","description":"附件url","example":"http://xxx/123.pdf","required":true},"start_time":{"type":"string","description":"发放开始时间","example":"2019-10-10 12:00:00","required":true},"end_time":{"type":"string","description":"发放结束时间","example":"2019-10-10 12:00:00","required":true},"title":{"type":"string","description":"积分明细显示名称描述","example":"干了什么","required":true}}},"OfferEntryUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"发放项id","example":1,"required":true},"action":{"type":"string","description":"操作行为：temporary_storage 暂存，submit_examine 提交审核","example":"temporary_storage","required":true},"offer_rules":{"type":"object","description":"发放规则","example":"[{\"top\": {\"type\": \"points_amount\",\"value\": \"1000\",\"dimension\": \"weekly\"},\"rule\": [{\"times\": \"1\",\"event_name\": \"事件名称\",\"instance_id\": \"1\",\"referred_app_id\": \"1\",\"params\":[{\"param_id\":1,\"param_path\":\"transaction_time\",\"param_name\":\"交易sss时间\",\"param_type\":\"number\",\"param_condition\":[{\"symbol\":\">\",\"value\":\"10\"},{\"symbole\":\"<\",\"value\":\"100\"}]}]}, {\"times\": \"1\",\"event_name\": \"事件名称1122\",\"instance_id\": \"2\",\"referred_app_id\": \"1\",\"param_id\":2,\"param_condition\":[{\"symbol\":\"=\",\"value\":\"3\"}]}],\"relation\": \"and\",\"change_type\": \"multiple\",\"change_value\": 2}]","required":true}}},{"$ref":"#/components/entry/OfferEntryBase"}]},"OfferEntryDetail":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"发放项id","example":1,"required":true},"status":{"type":"integer","description":"状态：0未完成，1发放中，2审批中，3即将开始，4已驳回，5已停发，6已失效，7已废弃","example":1},"offer_policy_entry_id":{"type":"integer","description":"策略服务对应的发放项id","example":1},"approve_time":{"type":"string","description":"审批时间","example":"2019-10-10 12:00:00"},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"},"edit_by":{"type":"integer","description":"编辑/申请人id","example":1},"user_name":{"type":"string","description":"编辑/申请人名称","example":"徐燚"},"department_name":{"type":"string","description":"部门名称","example":"会员部"},"offer_account_name":{"type":"string","description":"发放账户名称","example":"会员部账户"},"offer_rules":{"type":"object","description":"发放规则","example":"[{\"top\": {\"type\": \"points_amount\",\"value\": \"1000\",\"dimension\": \"weekly\"},\"rule\": [{\"times\": \"1\",\"event_name\": \"事件名称\",\"instance_id\": \"1\",\"referred_app_id\": \"1\",\"params\":[{\"param_id\":1,\"param_path\":\"transaction_time\",\"param_name\":\"交易sss时间\",\"param_type\":\"number\",\"param_condition\":[{\"symbol\":\">\",\"value\":\"10\"},{\"symbole\":\"<\",\"value\":\"100\"}]}]}, {\"times\": \"1\",\"event_name\": \"事件名称1122\",\"instance_id\": \"2\",\"referred_app_id\": \"1\",\"param_id\":2,\"param_condition\":[{\"symbol\":\"=\",\"value\":\"3\"}]}],\"relation\": \"and\",\"change_type\": \"multiple\",\"change_value\": 2}]"}}},{"$ref":"#/components/entry/OfferEntryBase"}]},"OfferEntries":{"type":"object","properties":{"list":{"type":"array","items":{"type":"object","properties":{"entry_name":{"type":"string","description":"发放项名称","example":"化身孤岛的鲸","required":true},"offer_account_id":{"type":"string","description":"发放项账户id","example":389275843276,"required":true},"offer_account_status":{"type":"string","description":"运营账户状态：freeze 已冻结，activation 正常，not_activated 未激活","example":389275843276,"required":true},"offer_account_name":{"type":"string","description":"发放项账户名称","example":"会员部账户","required":true},"offer_points_valid_date":{"type":"object","description":"积分有效期配置","properties":{"type":{"type":"string","description":"有效期类型：fixed_date 固定日期有效，begin_with 自领取之日开始多少天","example":"fixed_date"},"period":{"type":"string","description":"日期格式(Y-m-d) OR 多少天过期","example":"2020-10-31 23:59:59"}}},"edit_by":{"type":"integer","description":"编辑人id","example":1,"required":true},"status":{"type":"integer","description":"状态：0未完成，1发放中，2审批中，3即将开始，4已驳回，5已停发，6已失效，7已废弃","example":1,"required":true},"offer_policy_entry_id":{"type":"integer","description":"策略服务对应的发放项id","example":1,"required":true},"user_name":{"type":"string","description":"编辑人名称","example":"徐燚","required":true},"department_name":{"type":"string","description":"部门名称","example":"会员部","required":true},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"ManualOfferBase":{"type":"object","properties":{"department_id":{"type":"integer","description":"部门id","example":1,"required":true},"offer_account_id":{"type":"string","description":"发放项账户id","example":389275843276,"required":true},"offer_description":{"type":"string","description":"发放原因","example":"为什么呢","required":true},"title":{"type":"string","description":"积分明细显示名称描述","example":"干了什么","required":true},"amount":{"type":"integer","description":"积分发放数额","example":10,"required":true},"receive_id":{"type":"string","description":"接收账户id，多个用逗号隔开","example":"123，485,244","required":true},"offer_points_valid_date":{"type":"object","description":"积分有效期配置","properties":{"type":{"type":"string","description":"有效期类型：fixed_date 固定日期有效，begin_with 自领取之日开始多少天","example":"fixed_date"},"period":{"type":"string","description":"日期格式(Y-m-d) OR 多少天过期","example":"2020-10-31 23:59:59"}}}}},"ManualOfferDetail":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"id","example":1},"edit_by":{"type":"string","description":"发起人","example":"火火"},"status":{"type":"integer","description":"审批状态：0审批通过，1审批中，2审批拒绝","example":0},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"},"receiver_info":{"type":"array","description":"发放结果","items":{"type":"object","properties":{"receive_id":{"type":"string","description":"接收账户id","example":43895743766472},"receive_name":{"type":"string","description":"接收账户名称","example":"本宝宝"}}}},"send_result":{"type":"object","description":"发放结果","properties":{"success":{"type":"array","description":"发放成功账号","example":[12621,12347]},"fail":{"type":"array","description":"发放失败数据","items":{"type":"object","properties":{"account_id":{"type":"string","description":"失败账户id","example":1260},"reason":{"type":"string","description":"失败原因","example":"账号不存在"}}}}}},"department_name":{"type":"string","description":"部门名称","example":"会员部"},"offer_account_name":{"type":"string","description":"发放账户名称","example":"会员部账户"}}},{"$ref":"#/components/entry/ManualOfferBase"}]},"PartnerBase":{"type":"object","properties":{"contact_name":{"type":"string","description":"联系人姓名","example":"张三","required":true},"contact_phone":{"type":"string","description":"手机号","example":13838381438,"required":true},"contact_email":{"type":"string","description":"邮箱","example":"dd01@hk01.com","required":true},"company_name":{"type":"string","description":"企业名称","example":"深圳市大地零一科技有限公司","required":true},"company_introduction":{"type":"string","description":"企业介绍","example":"深圳市大地零一科技有限公司"},"company_corporation":{"type":"string","description":"企业法人","example":"张三"},"company_license":{"type":"string","description":"企业营业执照","example":"执照"},"company_address":{"type":"string","description":"企业地址","example":"深圳市南山区","required":true},"type":{"type":"integer","description":"合作伙伴类型","example":"1 or 2, 1 => 个人，2 => 企业"}},"required":["contact_name","contact_phone","contact_email","company_name","company_address"]},"PartnerProfile":{"type":"object","properties":{"company_name":{"type":"string","description":"企业名称","example":"深圳市大地零一科技有限公司","required":true},"company_introduction":{"type":"string","description":"企业介绍","example":"深圳市大地零一科技有限公司"},"company_corporation":{"type":"string","description":"企业法人","example":"张三"},"company_license":{"type":"string","description":"企业营业执照","example":"执照"},"company_address":{"type":"string","description":"企业地址","example":"深圳市南山区","required":true}},"required":["company_name"]},"PartnerUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"合作伙伴ID","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/PartnerBase"}]},"Partner":{"allOf":[{"$ref":"#/components/entry/PartnerUpdate"},{"type":"object","properties":{"status":{"type":"integer","description":"状态","example":"0 or 1, 0 => 启用 1 => 停用"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"},"created_at":{"$ref":"#/components/schemas/CreatedAt"}}}]},"PartnerDetail":{"allOf":[{"$ref":"#/components/entry/PartnerUpdate"},{"type":"object","properties":{"access_key":{"type":"string","description":"access_key","example":"76646ab1-f2ab-4215-98e5-7f8f2eedd512"},"access_secret":{"type":"string","description":"access_secret","example":"VNa7jmWFXRgap7HCL5ExXIDqJKw80SIGmb0cRelFbcWaZDRs2q2kGSqbQo1dbnba"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"},"created_at":{"$ref":"#/components/schemas/CreatedAt"}}}]},"Partners":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/entry/Partner"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}},"BusinessAccountBase":{"type":"object","properties":{"username":{"type":"string","description":"账户名称","example":"啦啦啦","required":true},"department_id":{"type":"integer","description":"所属部门id","example":2,"required":true},"role_type":{"type":"string","description":"账户角色：merchant 商户， operator 运营账户，operable_merchant 可运营商户（目前只有这个）","example":"operable_merchant","required":true}}},"BusinessAccountUpdate":{"allOf":[{"type":"object","properties":{"union_id":{"type":"string","description":"账户id","example":1213432543,"required":true}},"required":["union_id"]},{"$ref":"#/components/entry/BusinessAccountBase"}]},"BusinessAccount":{"type":"object","properties":{"union_id":{"type":"string","description":"账户id","example":1213432543},"username":{"type":"string","description":"账户名称","example":"啦啦啦"},"department_id":{"type":"integer","description":"所属部门id","example":2},"department_name":{"type":"string","description":"部门名称","example":"会员部"},"role_type":{"type":"string","description":"账户角色：merchant 商户， operator 运营账户，operable_merchant 可运营商户（目前只有这个）","example":"operable_merchant"},"status":{"type":"string","description":"账户状态：freeze 已冻结，activation 正常，not_activated 未激活","example":"invalid"},"balance_amount":{"type":"integer","description":"积分余额（含发放子账户和收分子账户）","example":10000},"freeze_amount":{"type":"integer","description":"已冻结积分余额","example":200},"offer_balance_amount":{"type":"integer","description":"发放子账户积分余额","example":5000},"income_balance_amount":{"type":"integer","description":"收分子账户积分余额","example":5000},"recently_expire_at":{"type":"string","description":"最近过期时间（只有普通会员才有此值，其他类型返回\"\"）","example":"2019-09-17T20:31:58.000Z"},"recently_expire_amount":{"type":"integer","description":"最近即将过期分数（只有普通会员才有此值，其他类型返回0）","example":200},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}},"BusinessAccounts":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"list":{"type":"array","items":{"$ref":"#/components/entry/BusinessAccount"}}}},"Tag":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","description":"会员标签信息","properties":{"custom_tags":{"type":"array","description":"自定义标签","items":{"type":"string"}},"behavior_tags":{"type":"object","description":"行为标签","properties":{"new_account":{"type":"integer","description":"是否是新客，0：否 1 ：是  2：其他","example":0},"old_account":{"type":"integer","description":"是否是老客 0：否 1 ：是  2：其他","example":0},"is_active":{"type":"integer","description":"用户活跃度","example":0},"7days_login":{"type":"integer","description":"近7天是否登录 0：否 1 ：是","example":0},"30days_login":{"type":"integer","description":"近30天是否登录 0：否 1 ：是","example":0},"30days_register":{"type":"integer","description":"是否近30天注册0：否 1 ：是"},"is_lost":{"type":"integer","description":"是否是流失用户0：否 1 ：是","example":0}}},"shallow_portrait":{"type":"array","description":"浅层画像","items":{"type":"string"}},"deep_portrait":{"type":"array","description":"深层画像","items":{"type":"string"}}}}}},"TenantBase":{"type":"object","properties":{"name":{"type":"string","description":"租户名称","example":"大地零一","required":true},"contact_name":{"type":"string","description":"联系人姓名","example":"张三","required":true},"contact_phone":{"type":"integer","description":"联系人电话","example":13800138000,"required":true},"contact_email":{"type":"string","description":"联系人邮箱","example":"zhangsan@dd01.com","required":true},"contact_position":{"type":"string","description":"联系人职位","example":"技术总监","required":false}},"required":["name","contact_name","contact_phone","contact_email"]},"TenantConfig":{"type":"object","properties":{"contact_name":{"type":"string","description":"联系人姓名","example":"张三","required":true},"contact_phone":{"type":"integer","description":"联系人电话","example":13800138000,"required":true},"contact_email":{"type":"string","description":"联系人邮箱","example":"zhangsan@dd01.com","required":true},"ip_whitelist":{"type":"array","description":"ip白名单","items":{"type":"string","example":"39.156.69.79"}}},"required":["contact_name","contact_phone","contact_email"]},"TenantConfigDetail":{"allOf":[{"$ref":"#/components/entry/TenantConfig"},{"type":"object","properties":{"id":{"type":"integer","description":"租户id","example":1},"tenant_key":{"type":"string","description":"租户Key","example":"813bd47c-a505-4782-8892-5a2e7e85c6af"},"mq_key":{"type":"string","description":"消息队列","example":"fweofiwje29012jjfoj"}}}]},"TenantAdd":{"allOf":[{"$ref":"#/components/entry/TenantBase"},{"type":"object","properties":{"ip_whitelist":{"type":"array","description":"ip白名单","items":{"type":"string","example":"39.156.69.79"}}}}]},"TenantUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/TenantAdd"}]},"TenantDetail":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/TenantAdd"},{"type":"object","properties":{"partner_id":{"type":"integer","description":"合作伙伴ID","example":1},"admin_id":{"type":"integer","description":"管理员ID","example":1},"login_name":{"type":"string","description":"管理员账号名","example":"华南"},"zone_id":{"type":"integer","description":"节点ID","example":1},"endpoint":{"type":"string","description":"节点名","example":"华南"},"status":{"type":"integer","description":"状态，(0 正常，1 停用，2 试用，3 删除)","example":1},"init_status":{"type":"integer","description":"初始化状态, (0 已经初始化, 1 初始化进行中, 2 未初始化)","example":1},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}}]},"Tenant":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/TenantBase"},{"type":"object","properties":{"partner":{"type":"string","description":"合作伙伴","example":"新零售"},"admin_id":{"type":"integer","description":"管理员ID","example":1},"login_name":{"type":"string","description":"管理员账号名","example":"lucas"},"endpoint":{"type":"string","description":"节点名","example":"华南"},"zone_id":{"type":"integer","description":"节点ID","example":1},"status":{"type":"integer","description":"状态，(0 正常，1 停用，2 试用，3 删除)","example":1},"created_at":{"$ref":"#/components/schemas/CreatedAt"}}}]},"Tenants":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"list":{"type":"array","items":{"$ref":"#/components/entry/Tenant"}}}}}},"TenantId":{"type":"object","properties":{"tenant_id":{"type":"integer","description":"租户ID","example":1,"required":true}}},"TenantInitStatus":{"type":"object","properties":{"init_status":{"type":"integer","description":"初始化状态, (0 已经初始化, 1 初始化进行中, 2 未初始化)","example":1},"system_init_status":{"type":"object","description":"各系统初始化状态","properties":{"member-account-system-kit":{"type":"integer","description":"账号系统-初始化状态, (0 已经初始化, 1 初始化进行中, 2 未初始化)","example":1},"points-core-system-kit":{"type":"integer","description":"积分系统-初始化状态, (0 已经初始化, 1 初始化进行中, 2 未初始化)","example":1}}}}},"TenantInitStep":{"type":"object","properties":{"dict":{"type":"integer","description":"字典配置(0已配置，1未配置)","example":1},"endpont":{"type":"integer","description":"节点配置(0已配置，1未配置)","example":1},"app":{"type":"integer","description":"应用配置(0已配置，1未配置)","example":1}}},"UserBase":{"type":"object","properties":{"user_name":{"type":"string","description":"姓名","example":"blake","required":true},"email":{"type":"string","description":"邮箱","example":"yixu@ghk01.com","required":true},"telephone":{"type":"string","description":"手机号码","example":13800138000,"required":true},"company_name":{"type":"string","description":"企业名称","example":"dd01","required":true},"position":{"type":"string","description":"职位","example":"运营总监"}},"required":["user_name","email","telephone","company_name"]},"UserUpdate":{"allOf":[{"type":"object","properties":{"id":{"type":"integer","description":"用户ID","example":1,"required":true}},"required":["id"]},{"$ref":"#/components/entry/UserBase"}]},"User":{"allOf":[{"$ref":"#/components/entry/UserUpdate"},{"$ref":"#/components/entry/UserStatus"}]},"UserStatus":{"type":"object","properties":{"status":{"type":"integer","description":"用户状态, 0正常 1冻结","example":0}}},"Users":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"用户id","example":1},"login_name":{"type":"string","description":"登录账号","example":"tenant_000001"},"user_name":{"type":"string","description":"姓名","example":"blake"},"type":{"type":"integer","description":"用户类型,(1普通用户，2伙伴用户)","example":1},"status":{"type":"integer","desctiption":"用户状态, 0正常 1冻结","example":0},"created_at":{"$ref":"#/components/schemas/CreatedAt"}}}}}},"Zone":{"type":"object","properties":{"zone_id":{"type":"integer","description":"节点ID","example":1,"required":true},"zone_name":{"type":"string","description":"节点名称","example":"华南","required":true}},"required":["zone_id","zone_name"]},"Zones":{"type":"array","items":{"type":"object","properties":{"region":{"type":"string","description":"地区","example":"中国大陆"},"zones":{"type":"array","items":{"$ref":"#/components/entry/Zone"}}}}}},"parameters":{"pageParam":{"name":"page","in":"query","description":"分页参数，当前页码","required":false,"schema":{"type":"integer","format":"int32","minimum":1,"default":1}},"pageSizeParam":{"name":"limit","in":"query","description":"分页参数，每页显示的数据数量。范围 1 ~ 100, 默认 20。","required":false,"schema":{"type":"integer","format":"int32","minimum":1,"maximum":100,"default":20}},"startTimeParam":{"name":"start_time","in":"query","description":"起始时间","required":false,"schema":{"type":"string"}},"endTimeParam":{"name":"end_time","in":"query","description":"结束时间","required":false,"schema":{"type":"string"}},"telephone":{"name":"telephone","in":"query","description":"手机号","schema":{"type":"string"}},"permissions":{"type":"string","description":"当前角色对应的权限列表","example":{"system_management":{"role":["index","set_rights","update","update_status","user_add","user_list"]}}},"TenantId":{"name":"tenant_id","in":"query","description":"租户ID","schema":{"type":"int"},"required":["tenant_id"]},"accountIdPathParam":{"name":"account_id","in":"path","description":"账户的 account_id","required":true,"schema":{"type":"integer","format":"int64"}},"roleTypeParam":{"name":"role_type","in":"query","description":"角色类型。目前定义的类型有：member/merchant/operator/operable_merchant","required":false,"schema":{"type":"string","default":"member","enum":["member","merchant","operator","operable_merchant"]},"example":"member"},"sortParam":{"name":"sort","in":"query","description":"指定排序方式，默认按时间和 ID 倒序。\n* \"-created_at\": 按 created_at 倒序\n* \"created_at\": 按 created_at 正序\n* \"-id\": 按 id 倒叙\n* \"id\": 按 id 正叙\n","required":false,"schema":{"type":"string"}}},"responses":{"Standard200SuccessResponse":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"响应内部码","example":0},"message":{"type":"string","description":"响应信息","example":"success"},"data":{"type":"object","value":{}}}}}}},"Standard401ErrorResponse":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"Standard4XXErrorResponse":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"schemas":{"Account":{"$ref":"#/components/entry/Account"},"PartnerRoleType":{"type":"string","description":"账户角色\n* merchant 商户角色\n* operator 运营角色\n* operable_merchant 可运营商户角色\n","enum":["merchant","operator","operable_merchant"],"default":"merchant","example":"merchant"},"AllRoleType":{"type":"string","description":"账户角色\n* member 普通角色\n* merchant 商户角色\n* operator 运营角色\n* operable_merchant 可运营商户角色","enum":["member","merchant","operator","operable_merchant"],"default":"merchant","example":"merchant"},"Address":{"$ref":"#/components/entry/Address"},"AdminUser":{"$ref":"#/components/entry/User"},"AdminUserGroup":{"$ref":"#/components/entry/Role"},"App":{"$ref":"#/components/entry/App"},"AppFreezeActionQueryApi":{"type":"object","properties":{"out_sn":{"type":"string","description":"外部流水号","example":"test1212232334234"},"action":{"required":true,"type":"string","description":"需要的操作，只能为转交易（commit_transaction）、取消冻结（cancel）、保持现状（hold）","example":"commit_transaction"},"next_query_second":{"type":"integer","description":"下次查询时间，单位是秒。当返回 action 为 hold 时，会根据当前时间 + next_query_second 秒之后执行下次再次请求接口（最多再执行4次查询）。如果此项没填或者值小于60秒时，按照 60 秒操作。","example":120}}},"AppConfigInfo":{"type":"object","properties":{"app_key":{"type":"string","description":"app key","example":"e16045a809b3da6411"},"freeze":{"type":"string","description":"冻结结果查询配置","example":{"action_query_api_url":"http://xxx/api/v1/transaction/status","action_query_after":86400,"timeout":604800,"app_secret":"3434ui3ohjekhjhjerioi"}},"default_language":{"type":"string","description":"默认语言","example":"zh-Hant-HK"},"transaction_title_template":{"type":"string","description":"交易明细配置信息","example":{"template_key":{"from":{"en":"display english transaction description","zh-Hans-CN":"展示积分明细描述, 使用简体中文","zh-Hant-HK":"展示積分明細描述, 使用繁體中文"}},"hk01.protobuf.wallet.payment.PaymentSuccess":{"from":{"en":"Payment success! You payed {amount} points to {target_nickname}","zh-Hans-CN":"交易成功, 你向 {target_nickname} 支付了 {amount} 个积分.","zh-Hant-HK":"交易成功, 你向 {target_nickname} 支付了 {amount} 個積分."},"to":{"en":"Payment success! You received {amount} points from {from_nickname}","zh-Hans-CN":"交易成功! 你从 {target_nickname} 获得 {amount} 个积分.","zh-Hant-HK":"交易成功! 你從 {target_nickname} 獲得 {amount} 個積分."}},"self_defined_template_key_1":{"from":{"en":"Thank you! You donate {amount} points for this campaign.","zh-Hans-CN":"感谢你, 你为这个活动捐赠了 {amount} 个积分.","zh-Hant-HK":"感謝你, 你為這個活動捐贈了 {amount} 個積分."}},"self_defined_template_key_2":{"to":{"en":"Congratulations! You earn {amount} points from this campaign.","zh-Hans-CN":"恭喜你! 参加活动获取了 {amount} 个积分.","zh-Hant-HK":"恭喜你! 參加活動獲取了 {amount} 個積分."}}}}}},"Dictionary":{"$ref":"#/components/entry/Dictionary"},"Error":{"type":"object","properties":{"code":{"type":"integer","description":"错误码"},"message":{"type":"string","description":"错误提示消息"},"data":{"type":"object","properties":null}},"required":["code","message"],"example":{"code":401,"message":"参数错误","data":null}},"OutSn":{"type":"string","description":"外部流水号","example":3939948484},"RawOutSn":{"type":"string","description":"x-api-key#外部流水号","example":"jdskjdklsajderieorieoi#3939948484"},"ReverseSn":{"type":"string","description":"退分外部流水号","example":3939948484},"Remark":{"description":"外部系统备注信息","type":"string","example":{"id":774,"description":{}}},"Source":{"description":"外部来源","type":"string","example":"order"},"FreezeRecord":{"type":"object","properties":{"id":{"type":"integer","description":"记录ID","example":10001},"from_account_id":{"type":"integer","description":"发起人账号的 account_id","example":4294976823},"to_account_id":{"type":"integer","description":"收分商家账号的 account_id","example":4294971063},"freeze_amount":{"type":"integer","description":"冻结的积分数量","example":2018},"cancelled_at":{"type":"string","description":"解冻时间","example":"2018-08-12T15:19:21+08:00"},"transacted_at":{"type":"string","description":"生成交易时间","example":"2018-08-12T15:19:21+08:00"},"out_sn":{"$ref":"#/components/schemas/OutSn"},"remark":{"$ref":"#/components/schemas/Remark"},"source":{"$ref":"#/components/schemas/Source"},"status":{"$ref":"#/components/schemas/FreezeRecordStatus"},"reason":{"type":"string","description":"原因，解冻是填写","example":"订单未付款"},"transaction_record_id":{"type":"string","description":"交易记录的ID","example":8866},"created_at":{"$ref":"#/components/schemas/PointsCoreCreatedAt"},"updated_at":{"$ref":"#/components/schemas/PointsCoreUpdatedAt"}}},"Log":{"$ref":"#/components/entry/Log"},"Pagination":{"type":"object","properties":{"total":{"type":"integer","description":"数据总条数"},"per_page":{"type":"integer","description":"每页显示的数据条数"},"current_page":{"type":"integer","description":"当前页码"},"last_page":{"type":"integer","description":"最大页码"}},"example":{"total":3000,"per_page":50,"current_page":1,"last_page":60}},"Partner":{"$ref":"#/components/entry/PartnerDetail"},"PointsAccount":{"type":"object","properties":{"id":{"type":"integer","description":"记录ID","example":3848},"account_id":{"type":"integer","description":"账户的 account_id","example":4294976823},"balance_amount":{"type":"integer"},"freeze_amount":{"type":"integer"},"status":{"type":"string","enum":["invalid","valid"]},"type":{"type":"integer"},"created_at":{"type":"string"},"updated_at":{"type":"string"}}},"PointsAccountInfo":{"type":"object","properties":{"account_id":{"type":"integer","description":"账户的 account_id","example":9527},"role_type":{"type":"string","description":"账户的类型 merchant（商家账户）、operator（运营账户）或operable_merchant（可运营商家账户），member（普通账户）","example":"operator"},"username":{"type":"string","description":"账户名称","example":"test"},"balance_amount":{"type":"integer","description":"积分余额（含发放子账户和收分子账户）","example":5000},"freeze_amount":{"type":"integer","description":"冻结积分","example":300},"offer_balance_amount":{"type":"integer","description":"发放子账户积分余额","example":5000},"income_balance_amount":{"type":"integer","description":"收分子账户积分余额","example":5000},"recently_expire_at":{"type":"date","description":"最近过期时间（只有普通会员才有此值，其他类型返回\"\"）","example":"2018-08-12T23:59:59+08:00"},"recently_expire_amount":{"type":"integer","description":"最近即将过期分数（只有普通会员才有此值，其他类型返回0）","example":12},"status":{"$ref":"#/components/schemas/PointsAccountStatus"},"created_at":{"$ref":"#/components/schemas/CreatedAt"},"updated_at":{"$ref":"#/components/schemas/UpdatedAt"}}},"PointsAccountBase":{"type":"object","properties":{"account_id":{"type":"integer","description":"记录ID","example":4294976823},"balance_amount":{"type":"integer","description":"积分余额（含发放子账户和收分子账户）","example":5000},"status":{"type":"string","enum":["invalid","valid"],"description":"状态","example":"invalid"},"created_at":{"$ref":"#/components/schemas/PointsCoreCreatedAt"},"updated_at":{"$ref":"#/components/schemas/PointsCoreUpdatedAt"}}},"PointsAccountBalanceList":{"type":"array","items":{"$ref":"#/components/schemas/PointsAccountInfo"}},"PointsFragmentRecord":{"type":"object","properties":{"id":{"type":"integer","description":"记录ID","example":1},"account_id":{"type":"integer","description":"用户的 account_id","example":4294976823},"balance_amount":{"type":"integer","description":"可用积分（不包括冻结积分）","example":5000},"freeze_amount":{"type":"integer","description":"冻结积分","example":5000},"expired_at":{"$ref":"#/components/schemas/ExpiredAt"}}},"PointsFragmentRecordArray":{"type":"array","items":{"$ref":"#/components/schemas/PointsFragmentRecord"}},"FreezeRecordStatus":{"type":"string","enum":["freezing","cancelled","transacted"],"description":"冻结状态\n* freezing 冻结中\n* cancelled 已取消\n* transacted 已转成交易\n","default":"freezing","example":"freezing"},"GrantRecordStatus":{"type":"string","description":"状态\n* invalid 未生效\n* valid 生效中\n* expired 已过期\n","enum":["invalid","valid","expired"],"example":"invalid","default":"valid"},"PointsAccountStatus":{"type":"string","description":"账户状态\n* activation 激活　\n* not_activated 未启用　\n* freeze 冻结（能进不能出）","enum":["activation","not_activated","freeze"],"default":"activation","example":"not_activated"},"PointsAccountUpdateStatus":{"type":"string","description":"账户状态\n* activation 激活　\n* freeze 冻结（能进不能出）","enum":["activation","freeze"],"example":"freeze"},"PointsRecordType":{"type":"string","description":"变更记录的类型\n- expire 过期，对应 record 为 ExpireRecord\n- grant 授予，对应 record 为 GrantRecord\n- transfer 交易，对应 record 为 TransactionRecord\n- transact 转账，对应 record 为 TransactionRecord\n- offer 发放，对应 record 为 TransactionRecord\n- cancel_offer 取消加分，对应 record 为 ReverseTransactionRecord\n- refund 取消减分，对应 record 为 ReverseTransactionRecord","enum":["expire","grant","transfer","transact","offer","cancel_offer","refund"],"example":"offer"},"DirectionType":{"type":"string","description":"交易方向\n\n- out 出账 - in 进账","enum":["out","in"],"example":"in"},"Tenant":{"$ref":"#/components/entry/TenantDetail"},"CreatedAt":{"type":"string","description":"记录创建时间","example":"2019-07-01 00:00:00"},"UpdatedAt":{"type":"string","description":"记录最后更新时间","example":"2019-07-01 00:00:00"},"PointsCoreCreatedAt":{"type":"string","description":"记录创建时间","example":"2018-08-12T15:19:21+08:00"},"PointsCoreUpdatedAt":{"type":"string","description":"记录最后更新时间","example":"2018-08-12T15:19:21+08:00"},"ExpiredAt":{"type":"string","description":"过期时间","example":"2018-08-12T15:19:21+08:00"},"TransactionRecord":{"type":"object","properties":{"id":{"type":"integer","description":"记录ID","example":888842},"from_account_id":{"type":"integer","description":"交易发起方账户的 account_id","example":4294976823},"to_account_id":{"type":"integer","description":"交易目标方账户的 account_id","example":4294976823},"transaction_type":{"$ref":"#/components/schemas/TransactionType"},"from_account_role_type":{"$ref":"#/components/schemas/AllRoleType"},"to_account_role_type":{"$ref":"#/components/schemas/AllRoleType"},"out_sn":{"$ref":"#/components/schemas/OutSn"},"raw_out_sn":{"$ref":"#/components/schemas/RawOutSn"},"remark":{"$ref":"#/components/schemas/Remark"},"source":{"$ref":"#/components/schemas/Source"},"created_at":{"$ref":"#/components/schemas/PointsCoreCreatedAt"},"updated_at":{"$ref":"#/components/schemas/PointsCoreUpdatedAt"}}},"TransactionType":{"type":"string","enum":["transfer","transact","offer"],"description":"流转类型\n* transfer 积分转账\n* transact 积分交易\n* offer 积分发放\n"},"User":{"$ref":"#/components/entry/User"},"Zone":{"$ref":"#/components/entry/Zone"}}},"paths":{"/frontend/account":{"get":{"tags":["Frontend"],"summary":"会员账号搜索","description":"会员账号搜索","parameters":[{"in":"query","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1,"default":1}},{"in":"query","name":"size","description":"每页显示个数","required":false,"schema":{"type":"int","example":15,"default":15}},{"in":"query","name":"account_id","description":"会员账号ID","required":false,"schema":{"type":"int","example":100001}},{"in":"query","name":"mobile","description":"手机号码","required":false,"schema":{"type":"string","example":"+8618888888888"}},{"in":"query","name":"email","description":"电子邮箱","required":false,"schema":{"type":"string","example":"18888888888@139.com"}},{"in":"query","name":"created_at","description":"注册日期范围","required":false,"schema":{"type":"string","example":"2008-08-08 - 2019-08-08"}},{"in":"query","name":"source_app_key","description":"注册来源","required":false,"schema":{"type":"string","example":"E肚仔"}},{"in":"query","name":"identification_type","description":"证件类型 any：全部证件 id_card：身份证 passport_number：护照号码 driver_licence：驾驶证 hk_macao_pass：港澳通行证 military_officer：军官证 taiwan_pass：往来台湾同行证 birth_certificate：出生证 tour_guide_licence：导游证","required":false,"schema":{"type":"string","example":"any"}},{"in":"query","name":"identification_value","description":"证件号码","required":false,"schema":{"type":"string","example":"0123456789"}}],"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Accounts"}}}}}}}}},"/frontend/account/add":{"post":{"tags":["Frontend"],"summary":"创建会员账号","description":"创建会员账号接口，必传邮箱/手机号,如果手机号/邮箱已经发送验证码并校验通过，需传递mobile_verified/email_verified参数true","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AccountBase"}}}},"responses":{"200":{"description":"返回操作结果","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Account"}}}}}}}}},"/frontend/account/detail":{"get":{"tags":["Frontend"],"summary":"会员账号信息","description":"会员账号信息","parameters":[{"in":"path","name":"account_id","description":"会员账号id","required":true,"schema":{"type":"int","example":1000}}],"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Account"}}}}}}}}},"/frontend/account/update":{"post":{"tags":["Frontend"],"summary":"更新会员账号信息","description":"更新指定会员账号在字典配置中可更新的字段信息","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AccountUpdate"}}}},"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Account"}}}}}}}}},"/frontend/account/remove":{"post":{"tags":["Frontend"],"summary":"删除会员账号","description":"删除会员账号所有信息","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号ID","example":1000}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/account/avatar":{"post":{"tags":["Frontend"],"summary":"上传头像","description":"上传用户头像,如果传入宽高参数，会返回缩略图地址","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"avatar":{"type":"binary","required":true,"description":"图片，最大支持10m上传。支持的图片格式有 (jpeg, png, jpg)"},"thumb_size":{"type":"string","required":false,"description":"返回缩略图尺寸，可选值为[origin,small,middle,large]  thumb_size 取值说明：\n  - origin:原始图片尺寸\n  - small: 200*200 px\n  - middle: 400*400 px\n  - large: 800*800 px","default":""}}}}}},"responses":{"200":{"description":"返回上传后的头像信息","content":{"application/json":{"schema":{"$ref":"#/components/entry/AccountAvatar"}}}}}}},"/frontend/account/ban":{"post":{"tags":["Frontend"],"summary":"会员账号冻结接口","description":"冻结会员账号/解冻会员账号","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号ID","example":1000,"required":true},"is_ban":{"type":"bool","required":true,"description":"true:冻结，false:解冻","example":true}},"required":["account_id","is_ban"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/account/action_log":{"get":{"tags":["Frontend"],"summary":"获取用户活跃记录","description":"获取用户活跃记录","parameters":[{"in":"path","name":"account_id","description":"会员账号ID","required":true,"schema":{"type":"int","example":100001}},{"$ref":"#/components/parameters/pageParam"}],"responses":{"200":{"description":"object","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Logs"}}}}}}}}},"/frontend/account/app":{"get":{"tags":["Frontend"],"summary":"应用列表","description":"应用列表","responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"app_key":{"type":"string","example":"CzF87jMZsARWs7AQreembAdQREitcL3z"},"name":{"type":"string","example":"E肚仔"}}}}}}}}}}}},"/frontend/account/search":{"get":{"tags":["Frontend"],"summary":"根据关键字搜索会员","description":"根据关键字搜索会员","parameters":[{"name":"keyword","in":"query","description":"关键字","schema":{"type":"string"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"list":{"type":"array","items":{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号id","example":12626},"nick_name":{"type":"string","description":"会员昵称","example":"xxx"},"avatar_url":{"type":"string","description":"会员头像","example":"xxx"},"mobile":{"type":"string","description":"会员手机号","example":"xxx"},"email":{"type":"string","description":"会员邮箱","example":"xxx"}}}}}}}}}}}}}},"/frontend/guest":{"get":{"tags":["Frontend"],"summary":"泛会员搜索","description":"泛会员搜索条件说明  - 可支持搜索的字段请参考本接口返回值中的`profile`字段信息，且profile中的字段支持模糊查询\n  - source_app_key,source_channel,source_identification 使用精确匹配\n  - created_at必须符合日期格式，日期范围搜索请使用 `~` 隔开，如 2019-09-09~2019-10-10","parameters":[{"in":"query","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1,"default":1}},{"in":"query","name":"limit","description":"每页显示个数","required":false,"schema":{"type":"int","example":15,"default":15}}],"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/components/entry/Guest"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}}}}}},"/frontend/guest/delete":{"post":{"tags":["Frontend"],"summary":"删除泛会员","description":"删除泛会员","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"guest_id":{"type":"integer","description":"泛会员ID","example":9007203549708288}},"required":["guest_id"]}}}},"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/account/address":{"get":{"tags":["Frontend"],"summary":"会员地址列表","description":"查看会员地址列表","parameters":[{"in":"path","name":"account_id","description":"account_id","required":true,"schema":{"type":"int","example":100001}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Addresses"}}}}}}}}},"/frontend/account/address/add":{"post":{"tags":["Frontend"],"summary":"添加会员地址","description":"添加会员地址信息","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AddressBase"}}}},"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Address"}}}}}}}}},"/frontend/account/address/detail":{"get":{"tags":["Frontend"],"summary":"会员地址详情","description":"会员地址详情","parameters":[{"in":"path","name":"account_id","description":"account_id","required":true,"schema":{"type":"int","example":100001}},{"in":"path","name":"address_id","description":"address_id","required":true,"schema":{"type":"int","example":1}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Address"}}}}}}}}},"/frontend/account/address/update":{"post":{"tags":["Frontend"],"summary":"更新会员地址","description":"更新会员地址信息","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AddressAdd"}}}},"responses":{"200":{"description":"返回操作结果","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Address"}}}}}}}}},"/frontend/account/address/remove":{"post":{"tags":["Frontend"],"summary":"删除会员地址","description":"删除会员地址","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号ID","example":10001},"address_id":{"type":"integer","description":"会员地址ID","example":100}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/account/address/region":{"get":{"tags":["Frontend"],"summary":"字典枚举（地址）","description":"字典枚举（地址）","parameters":[{"in":"query","name":"type","description":"查询国家列表：word，查询省份列表：country，查询城市列表：province，查询县/区列表：city","required":true,"schema":{"type":"string","example":"province"}},{"in":"query","name":"name","description":"名称，若 type = word 时为空","required":false,"schema":{"type":"string","example":"广东省"}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"string","example":"深圳市"}}}}}}}}}},"/frontend/account/grade_rule/detail":{"get":{"tags":["Frontend"],"summary":"会员等级规则详情","description":"会员等级规则详情, 注意：当没有初始化等级配置时，返回值为空对象","responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/AccountGradeRule"}}}}}}}}},"/frontend/account/grade_rule/save":{"post":{"tags":["Frontend"],"summary":"保存会员等级规则","description":"保存会员等级规则","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AccountGradeRuleBase"}}}},"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/account/grade_rule/config":{"post":{"tags":["Frontend"],"summary":"会员等级规则配置","description":"会员等级规则配置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AccountGradeRuleConfig"}}}},"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/account/grade_rule/publish":{"post":{"tags":["Frontend"],"summary":"发布会员等级规则","description":"发布会员等级规则","responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/account/grade_rule/remove":{"post":{"tags":["Frontend"],"summary":"删除会员等级规则","description":"删除会员等级规则","responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/account/grade/filter":{"get":{"tags":["Frontend"],"summary":"会员等级筛选列表","description":"会员等级筛选列表，用于会员列表筛选下拉","responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"no":{"type":"string","description":"等级编号","example":1},"name":{"type":"string","description":"等级名称","example":"金卡"}}}}}}}}}}}},"/frontend/account/tags":{"get":{"tags":["Frontend"],"summary":"查看会员标签","description":"查看会员标签","parameters":[{"in":"path","name":"account_id","description":"账号ID","required":true,"schema":{"type":"int","example":100001}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Tag"}}}}}}}}},"/frontend/account/tags/hot":{"get":{"tags":["Frontend"],"summary":"查看会员热门标签","description":"查看会员热门标签","parameters":[{"in":"path","name":"tag","description":"标签","required":false,"schema":{"type":"string","example":"有车"}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","description":"热门标签","items":{"type":"string"}}}}}}}}}},"/frontend/account/tag/add":{"post":{"tags":["Frontend"],"summary":"创建会员标签","description":"创建会员标签","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"account_id":{"type":"integer","description":"账号ID","example":1001},"tag":{"type":"string","description":"标签","example":"90 后"}}}}}},"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/account/tag/remove":{"post":{"tags":["Frontend"],"summary":"删除会员标签","description":"删除会员标签","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"account_id":{"type":"integer","description":"账号ID","example":1001},"tag":{"type":"string","description":"标签","example":"90 后"}}}}}},"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object"}}}}}}}}},"/frontend/admin_user":{"get":{"tags":["Frontend"],"summary":"获取用户列表","description":"获取系统用户列表数据","parameters":[{"name":"user_name","in":"query","description":"用户名称","schema":{"type":"string"}},{"$ref":"#/components/parameters/telephone"},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/AdminUsers"}}}}}}}}},"/frontend/admin_user/add":{"post":{"tags":["Frontend"],"summary":"添加用户账号","description":"添加系统用户账号","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AdminUserBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/update":{"post":{"tags":["Frontend"],"summary":"更新用户账号","description":"更新系统用户账号","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AdminUserUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/remove":{"post":{"tags":["Frontend"],"summary":"删除用户","description":"删除用户账号","parameters":[{"name":"id","in":"query","description":"用户id","schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/update_status":{"post":{"tags":["Frontend"],"summary":"修改用户状态","description":"修改用户状态--冻结/启用","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"用户id","example":1,"required":true},"stauts":{"type":"integer","description":"状态, 0冻结 1启用","example":1,"required":true}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/detail":{"get":{"tags":["Frontend"],"summary":"系统用户详情","description":"获取系统用户详情","parameters":[{"name":"id","in":"query","description":"用户id","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/User"}}}}}}}}},"/frontend/admin_user/set_password":{"post":{"tags":["Frontend"],"summary":"邮件重置密码","description":"用户通过邮件内的链接重置密码","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"用户id","example":1,"required":true},"login_name":{"type":"string","description":"登录名","example":"xuyi","required":true},"password":{"type":"string","description":"密码","example":8888888,"required":true},"repeat_password":{"type":"string","description":"重复密码","example":8888888,"required":true}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/check_url":{"get":{"tags":["Frontend"],"summary":"检查重置密码链接是否有效","description":"检查重置密码链接是否有效","parameters":[{"name":"id","in":"query","description":"用户id","schema":{"type":"integer"}},{"name":"token","in":"query","description":"验证token(邮件内容返回的url中获取)","schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/set_rights":{"post":{"tags":["Frontend"],"summary":"设置用户角色","description":"为用户设置角色","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"用户id","example":1,"required":true},"group_ids":{"type":"string","description":"用户组,填写以英文逗号分开的整数","example":12,"required":true}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_user/send_email":{"get":{"tags":["Frontend"],"summary":"发送邮件重置密码","description":"发送邮件重置密码","parameters":[{"name":"id","in":"query","description":"用户id","schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/switch_language":{"get":{"tags":["Frontend"],"summary":"多语言切换","description":"多语言切换","parameters":[{"name":"language","in":"query","description":"en 英语，cn 简体中文，zk 繁体中文","schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_group":{"get":{"tags":["Frontend"],"summary":"获取角色列表","description":"获取角色列表","parameters":[{"name":"id","in":"query","description":"角色id","schema":{"type":"integer"}},{"name":"name","in":"query","description":"角色名称","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/AdminUserGroups"}}}}}}}}},"/frontend/admin_group/add":{"post":{"tags":["Frontend"],"summary":"新增角色","description":"新增角色","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AdminUserGroupAdd"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_group/update":{"post":{"tags":["Frontend"],"summary":"更新角色权限","description":"更新角色权限","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AdminUserGroupUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_group/remove":{"post":{"tags":["Frontend"],"summary":"删除角色","description":"删除角色","parameters":[{"name":"id","in":"query","description":"角色id","schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/admin_group/right_menu":{"get":{"tags":["Frontend"],"summary":"获取权限配置菜单","description":"获取权限配置菜单","parameters":null,"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"system_management":{"type":"object","description":"权限一级菜单配置","properties":{"name":{"type":"string","description":"权限一级菜单中文名称","example":"账号权限管理"},"data":{"type":"object","description":"权限二级菜单配置","properties":{"name":{"type":"string","description":"权限二级菜单中文名称","example":"账号权限管理"},"data":{"type":"object","description":"权限三级菜单配置","properties":{"user_list":{"type":"object","description":"权限三级菜单配置名称","properties":{"name":{"type":"string","description":"权限三级菜单中文名称","example":"查看账号列表"}}}}}}}}}}}}}}}}}}},"/frontend/admin_groups/all_role":{"get":{"tags":["Frontend"],"summary":"全部角色列表","description":"获取全部角色列表","parameters":null,"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"角色名称","example":"管理员"},"id":{"type":"integer","description":"角色id","example":1}}}}}}}}}}}},"/frontend/app":{"get":{"tags":["Frontend"],"summary":"获取应用列表","description":"获取应用列表","responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Apps"}}}}}}}}},"/frontend/app/add":{"post":{"tags":["Frontend"],"summary":"新增应用","description":"新增应用","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AppBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/app/update":{"post":{"tags":["Frontend"],"summary":"更新应用","description":"更新应用","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AppUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/app/detail":{"get":{"tags":["Frontend"],"summary":"获取应用详情","description":"获取应用详情","parameters":[{"name":"id","in":"query","description":"应用id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/App"}}}}}}}}},"/frontend/app/reset_secret":{"get":{"tags":["Frontend"],"summary":"生成api secret","description":"生成api secret","parameters":[{"name":"id","in":"query","description":"应用id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppResetSecret"}}}}}}},"/frontend/app/config/ui":{"post":{"tags":["Frontend"],"summary":"应用ui配置","description":"应用与sdk相关的ui设置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AppUiConfig"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/app/config/ui/detail":{"get":{"tags":["Frontend"],"summary":"获取应用ui配置","description":"获取应用与sdk相关的ui设置","parameters":[{"in":"query","name":"app_id","description":"应用ID","schema":{"type":"integer"},"example":1,"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppUiConfig"}}}}}}},"/frontend/app/config/sdk":{"post":{"tags":["Frontend"],"summary":"获取应用sdk配置","description":"获取应用与sdk相关的设置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AppSdkConfig"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/app/config/sdk/detail":{"get":{"tags":["Frontend"],"summary":"应用sdk配置","description":"应用与sdk相关的设置","parameters":[{"in":"query","name":"app_id","description":"应用ID","schema":{"type":"integer"},"example":1,"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppSdkConfig"}}}}}}},"/frontend/app/config/third_party":{"post":{"tags":["Frontend"],"summary":"第三方登录配置","description":"第三方登录配置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AppThirdPartyConfigAdd"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/app/config/third_party/list":{"get":{"tags":["Frontend"],"summary":"获取第三方登录配置","description":"获取第三方登录配置","parameters":[{"in":"query","name":"app_id","description":"应用ID","schema":{"type":"integer"},"example":1,"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppThirdPartyConfig"}}}}}}},"/frontend/app/name_list":{"get":{"tags":["Frontend"],"summary":"获取所有应用名称列表","description":"获取所有应用名称列表（配置事件时用到）","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"api_key":{"type":"string","description":"应用key","example":1},"id":{"type":"integer","description":"应用id","example":1},"name":{"type":"string","description":"名称","example":"什么鬼"}}}}}}}}}}}},"/frontend/data_board/overview":{"get":{"tags":["Frontend"],"summary":"数据看板 -- 概览","description":"数据看板 -- 概览","parameters":[{"name":"app_key","in":"query","description":"应用key，选择全部时，传all","schema":{"type":"string"}}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"overview_data":{"type":"object","properties":{"total":{"type":"integer","example":1000,"description":"会员数"},"today":{"type":"integer","example":10,"description":"今日新增"},"nearly_seven_day":{"type":"integer","example":200,"description":"过去7天活跃"},"nearly_thirty_day":{"type":"integer","example":300,"description":"过去30天活跃"}}},"rate_data":{"type":"object","properties":{"gender_data":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"male_rate"},"rate":{"type":"string","example":"20.43%"}}}},"age_rate":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"eighteen_rate"},"rate":{"type":"string","example":"20.43%"}}}},"area_rate":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"广东"},"rate":{"type":"string","example":"20.43%"}}}}}}}}}}}}}}}},"/frontend/data_board/active":{"get":{"tags":["Frontend"],"summary":"数据看板 -- 活跃数据","description":"数据看板 -- 活跃数据","parameters":[{"name":"app_key","in":"query","description":"应用key，选择全部时，传all","schema":{"type":"string"}},{"name":"start_date","in":"query","description":"开始日期","schema":{"type":"string"}},{"name":"end_date","in":"query","description":"结束日期","schema":{"type":"string"}}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"count_date":{"type":"string","example":"2019-01-01","description":"日期"},"number":{"type":"integer","example":100,"description":"用户活跃数"}}}}}}}}}}}},"/frontend/dictionary":{"get":{"tags":["Frontend"],"summary":"所有可用的会员字典列表接口","description":"户字典模型配置时，获取已发布的会员字典列表","parameters":null,"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/Dictionaries"}}}}}}},"/frontend/file/upload":{"post":{"tags":["Frontend"],"summary":"上传文件","description":"上传图片/文档","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"file","description":"文件","example":null,"required":true},"type":{"type":"integer","description":"文件类型, 1图片 2文档","example":1,"required":true}}}}}},"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"url":{"type":"string","description":"文件绝对路径","example":null}}}}}}}}}}},"/frontend/init/zone":{"get":{"tags":["Frontend"],"summary":"节点列表","description":"节点列表","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"endpoints":{"$ref":"#/components/entry/Zones"},"use":{"type":"integer","description":"当前使用的节点id","example":1}}}}}}}}}}},"/frontend/init/set_zone":{"post":{"tags":["Frontend"],"summary":"节点选择","description":"节点选择","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/Zone"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/init/step":{"get":{"tags":["Frontend"],"summary":"初始化配置查询","description":"初始化配置查询","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/TenantInitStep"}}}}}}}}},"/frontend/init/status":{"get":{"tags":["Frontend"],"summary":"初始化状态查询","description":"初始化状态查询","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/TenantInitStatus"}}}}}}}}},"/frontend/init":{"post":{"tags":["Frontend"],"summary":"租户发起初始化","description":"租户发起初始化","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"system":{"type":"enum","description":"系统名, (member-account-system-kit：会员系统，points-core-system-kit：租户系统)","enum":["member-account-system-kit","points-core-system-kit"]}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/init/app":{"post":{"tags":["Frontend"],"summary":"初始化应用","description":"初始化应用","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/AppBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/login":{"get":{"tags":["Public"],"summary":"登录","description":"系统用户登录","parameters":[{"name":"login_name","in":"query","description":"用户登录名","schema":{"type":"string"}},{"name":"password","in":"query","description":"密码","schema":{"type":"string"}}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"integer","description":"用户id","example":1},"email":{"type":"string","description":"用户邮箱","example":"yixu@hk01.com"},"telephone":{"type":"string","description":"手机号","example":18361235421},"login_name":{"type":"string","description":"登录名","example":"xuyi"},"created_at":{"type":"string","description":"创建时间","example":"2019-07-24T20:09:32.000Z"},"group_names":{"type":"string","description":"角色名称","example":"管理员"},"user_name":{"type":"string","description":"名","example":"燚"},"permissions":{"type":"object","description":"权限列表","example":{"system_management":{"admin_user":["index","create","set_rights","delete","update_status"],"admin_group":["index","update","create","delete","right_menu"]}}},"init_step":{"type":"object","description":"初始化配置状态","example":{"dict":0,"endpoint":0,"app":0}},"init_status":{"type":"integer","description":"初始化状态, (0 未初始化, 1 初始化进行中, 2 已经初始化)","example":0},"jwt":{"type":"string","description":"用户验证token","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvbWVtYmVyLXRlbmFudC1hcGkuY29tIiwiYXVkIjoibWVtYmVyLXRlbmFudCIsImlhdCI6MTU2Mzc4MzIxNSwidWlkIjoxLCJleHAiOjE1NjM4Njk2MTUsIm5iZiI6MTU2Mzc4MzE1NX0.Fwl8cWLtOpINVdduehkBUAKzjdvstGQsPGZUvA6u9kc87ptBViu9Jq0Q2NZhYS8wNPJC2GaTiE_CpwgPWYFljR1dvaLOp6aOntiDqxFlUj2wm-pQxHHKwsH4LDs_g2gNyzN89uL8q1t9Fk4Uyf8VM3kXjNoHPRVUAwgTBGPuUMY"}}}}}}}}}}},"/frontend/partner/detail":{"get":{"tags":["Frontend"],"summary":"合作伙伴查询接口","description":"合作伙伴查询接口","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/PartnerDetail"}}}}}}}}},"/frontend/partner/update_profile":{"post":{"tags":["Frontend"],"summary":"更新合作伙伴接口","description":"更新合作伙伴接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/PartnerProfile"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/partner/reset_secret":{"post":{"tags":["Frontend"],"summary":"重置ApiSecret 接口","description":"重置ApiSecret 接口","responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"api_secret":{"type":"string","description":"api_secret","example":"FXErjpes9lAF3vfJ2qo5JiCPnrtv0cwH"}}}}}}}}}}},"/frontend/tenant":{"get":{"tags":["Frontend"],"summary":"租户列表","description":"租户列表","parameters":[{"name":"name","in":"query","description":"租户名称","schema":{"type":"string"}},{"name":"contact_name","in":"query","description":"联系人姓名","schema":{"type":"string"}},{"name":"contact_phone","in":"query","description":"联系人手机","schema":{"type":"string"}},{"name":"contact_email","in":"query","description":"联系人邮箱","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Tenants"}}}}}}}}},"/frontend/tenant/update":{"post":{"tags":["Frontend"],"summary":"更新租户接口","description":"更新租户接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/TenantUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/tenant/update_status":{"post":{"tags":["Frontend"],"summary":"更新租户状态","description":"更新租户状态","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true},"status":{"type":"integer","description":"租户状态（0正常，1停用）","example":1,"required":true}},"required":["id","status"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/tenant/detail":{"get":{"tags":["Frontend"],"summary":"租户查询接口","description":"租户查询接口","parameters":[{"name":"id","in":"query","description":"租户ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/TenantDetail"}}}}}}}}},"/frontend/tenant/app":{"get":{"tags":["Frontend"],"summary":"租户应用列表","description":"租户应用列表","parameters":[{"in":"query","name":"id","description":"租户ID","schema":{"type":"integer"},"example":1}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Apps"}}}}}}}}},"/frontend/tenant/dictionary":{"get":{"tags":["Frontend"],"summary":"租户已配会员字典列表接口","description":"用用户字典模型配置时，租户已选择的会员字典列表","parameters":null,"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/Dictionaries"}}}}}}},"/frontend/tenant/dictionary/config":{"post":{"tags":["Frontend"],"summary":"租户会员模型配置","description":"租户会员模型配置","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"tenant_id":{"type":"integer","description":"租户ID","example":1},"member_dictionary_ids":{"type":"array","description":"字典id列表","items":{"type":"integer"}}},"required":["tenant_id","member_dictionary_ids"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/tenant/config":{"post":{"tags":["Frontend"],"summary":"更新租户配置","description":"更新租户配置","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/TenantConfig"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/tenant/config/detail":{"get":{"tags":["Frontend"],"summary":"租户查询配置接口","description":"租户查询配置接口","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/TenantConfigDetail"}}}}}}}}},"/frontend/user/tenants":{"get":{"tags":["Frontend"],"summary":"获取用户所有租户信息","description":"获取用户所有租户信息","responses":{"200":{"description":"object","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"properties":{"tenant_id":{"type":"integer","description":"tenant id","example":1,"required":true},"tenant_name":{"type":"string","description":"租户名","example":"有毒","required":true}}}}}}}}}}}},"/frontend/user/profile":{"get":{"tags":["Frontend"],"summary":"系统用户详情","description":"获取系统用户详情","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"allOf":[{"$ref":"#/components/entry/User"},{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/TenantInitStatus"},{"type":"object","properties":{"init_step":{"$ref":"#/components/entry/TenantInitStep"},"group_ids":{"type":"string","description":"角色ID","example":12},"group_names":{"type":"string","description":"角色名称","example":"管理员1,管理员2"},"permissions":{"type":"object","description":"权限列表","example":{"system_management":{"admin_user":["index","create","set_rights","delete","update_status"],"admin_group":["index","update","create","delete","right_menu"]}}}}}]}}}}}}}}},"/frontend/user/update_profile":{"post":{"tags":["Frontend"],"summary":"更新个人中心信息","description":"更新个人中心信息","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"login_name":{"type":"string","description":"登录名","example":"admin"},"user_name":{"type":"string","description":"姓名","example":"火火","required":true},"email":{"type":"string","description":"邮箱","example":"yixu@hk01.com","required":true},"telephone":{"type":"string","description":"手机号","example":169203947122,"required":true}}}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/user/update_password":{"post":{"tags":["Frontend"],"summary":"更改密码","description":"用户更改密码","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"old_password":{"type":"string","description":"旧密码","example":123456,"required":true},"new_password":{"type":"string","description":"新密码","example":8888888,"required":true},"repeat_new_password":{"type":"string","description":"重复新密码","example":8888888,"required":true}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/dictionary":{"get":{"tags":["Internal"],"summary":"会员字典列表接口","description":"会员字典列表接口","responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/Dictionaries"}}}}}}},"/internal/dictionary/add":{"post":{"tags":["Internal"],"summary":"添加会员字典字段接口","description":"添加会员字典字段接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/DictionaryBase","required":["title","name","type","is_base","status"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/dictionary/remove":{"post":{"tags":["Internal"],"summary":"删除字典字段接口","description":"删除字典字段接口","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"字典ID","example":1}},"required":["id"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/dictionary/publish":{"post":{"tags":["Internal"],"summary":"发布字典字段接口","description":"发布字典字段接口","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"字典ID","example":1}},"required":["id"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/partner":{"get":{"tags":["Internal"],"summary":"合作伙伴列表接口","description":"合作伙伴列表接口","parameters":[{"name":"type","in":"query","description":"合作伙伴类型，1 => 个人，2 => 企业","schema":{"type":"integer"}},{"name":"contact_name","in":"query","description":"联系人姓名","schema":{"type":"string"}},{"name":"contact_phone","in":"query","description":"联系人手机号","schema":{"type":"string"}},{"name":"company_name","in":"query","description":"企业名称","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Partners"}}}}}}}}},"/internal/partner/add":{"post":{"tags":["Internal"],"summary":"创建合作伙伴接口","description":"创建合作伙伴接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/PartnerBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/partner/update":{"post":{"tags":["Internal"],"summary":"更新合作伙伴接口","description":"更新合作伙伴接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/PartnerUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/partner/detail":{"get":{"tags":["Internal"],"summary":"合作伙伴查询接口","description":"合作伙伴查询接口","parameters":[{"name":"id","in":"query","description":"合作伙伴ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/PartnerDetail"}}}}}}}}},"/internal/partner/update_status":{"post":{"tags":["Internal"],"summary":"更新合作伙伴状态接口","description":"更新合作伙伴状态接口","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"合作伙伴ID","example":1},"status":{"type":"integer","description":"状态（0 启用, 1 停用）","example":0}},"required":["id","status"]}}}},"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"running_count":{"type":"integer","description":"正在服务的租户数量"}}}}}}}}}}},"/internal/partner/create_secret":{"get":{"tags":["Internal"],"summary":"创建 ApiSecret 接口","description":"创建 ApiSecret 接口","parameters":[{"in":"query","name":"id","description":"合作伙伴ID","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"api_secret":{"type":"string","description":"api_secret","example":"FXErjpes9lAF3vfJ2qo5JiCPnrtv0cwH"}}}}}}}}}}},"/internal/tenant":{"get":{"tags":["Internal"],"summary":"租户列表接口","description":"租户列表接口","parameters":[{"name":"name","in":"query","description":"租户名称","schema":{"type":"string"}},{"name":"contact_name","in":"query","description":"联系人姓名","schema":{"type":"string"}},{"name":"contact_phone","in":"query","description":"联系人手机","schema":{"type":"string"}},{"name":"contact_email","in":"query","description":"联系人邮箱","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Tenants"}}}}}}}}},"/internal/tenant/update":{"post":{"tags":["Internal"],"summary":"更新租户接口","description":"更新租户接口","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/TenantUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/tenant/detail":{"get":{"tags":["Internal"],"summary":"租户查询接口","description":"租户查询接口","parameters":[{"name":"id","in":"query","description":"租户ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/TenantDetail"}}}}}}}}},"/internal/tenant/update_status":{"post":{"tags":["Internal"],"summary":"更新租户状态","description":"更新租户状态","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1},"status":{"type":"integer","description":"状态，(0 正常，1 停用，2 试用，3 删除)","example":1}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/tenant/app":{"get":{"tags":["Internal"],"summary":"租户应用列表","description":"租户应用列表","parameters":[{"in":"query","name":"id","description":"租户ID","schema":{"type":"integer"},"example":1}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Apps"}}}}}}}}},"/internal/user":{"get":{"tags":["Internal"],"summary":"获取用户列表","description":"获取用户列表数据","parameters":[{"name":"user_name","in":"query","description":"用户名称","schema":{"type":"string"}},{"name":"telephone","in":"query","description":"手机","schema":{"type":"string"}},{"name":"page","in":"query","description":"页码，默认1","schema":{"type":"integer"}},{"name":"limit","in":"query","description":"每页显示数量，默认10","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Users"}}}}}}}}},"/internal/user/add":{"post":{"tags":["Internal"],"summary":"创建用户","description":"创建用户","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/UserBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/user/update":{"post":{"tags":["Internal"],"summary":"更新用户","description":"更新用户","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/UserUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/internal/user/detail":{"get":{"tags":["Internal"],"summary":"用户详情","description":"用户详情","parameters":[{"in":"query","name":"id","description":"用户ID","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/User"}}}}}}}}},"/internal/user/update_status":{"post":{"tags":["Internal"],"summary":"更新用户状态","description":"更新用户状态","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/UserStatus"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/account":{"get":{"tags":["Partner"],"summary":"会员搜索","description":"搜索某租户的会员","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"path","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1,"default":1}},{"in":"query","name":"size","description":"每页显示个数","required":false,"schema":{"type":"int","example":15,"default":15}},{"in":"query","name":"account_id","description":"会员ID","required":false,"schema":{"type":"int","example":100001}},{"in":"query","name":"mobile","description":"手机号码","required":false,"schema":{"type":"string","example":"+8618888888888"}},{"in":"query","name":"email","description":"电子邮箱","required":false,"schema":{"type":"string","example":"18888888888@139.com"}},{"in":"query","name":"created_at","description":"注册日期范围","required":false,"schema":{"type":"string","example":"2008-08-08 - 2019-08-08"}},{"in":"query","name":"source_app_key","description":"注册来源","required":false,"schema":{"type":"string","example":"E肚仔"}},{"in":"query","name":"identification_type","description":"证件类型 any：全部证件 id_card：身份证 passport_number：护照号码 driver_licence：驾驶证 hk_macao_pass：港澳通行证 military_officer：军官证 taiwan_pass：往来台湾同行证 birth_certificate：出生证 tour_guide_licence：导游证","required":false,"schema":{"type":"string","example":"any"}},{"in":"query","name":"identification_value","description":"证件号码","required":false,"schema":{"type":"string","example":"0123456789"}}],"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Accounts"}}}}}}}}},"/partner/accounts":{"post":{"tags":["Partner"],"summary":"会员账号批量搜索","description":"会员账号批量搜索","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"account_ids":{"type":"array","description":"会员账号ID数组","items":{"type":"integer"}}}}}}},"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/entry/Account"}}}}}}}}}}},"/partner/account/add":{"post":{"tags":["Partner"],"summary":"创建会员","description":"创建某租户的会员","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AccountBase"},{"type":"object","required":["tenant_id"]}]}}}},"responses":{"200":{"description":"返回操作结果","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Account"}}}}}}}}},"/partner/account/update":{"post":{"tags":["Partner"],"summary":"更新会员","description":"更新某租户的会员","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AccountUpdate"},{"type":"object","required":["tenant_id","account_id"]}]}}}},"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Account"}}}}}}}}},"/partner/account/remove":{"post":{"tags":["Partner"],"summary":"删除会员","description":"删除某租户的会员","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号ID","example":1000}},"required":["tenant_id","account_id"]}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/account/detail":{"get":{"tags":["Partner"],"summary":"会员详情","description":"获取某租户的会员详情","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"path","name":"account_id","description":"会员账号id","required":true,"schema":{"type":"int","example":1000}}],"responses":{"200":{"description":"返回用户信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Account"}}}}}}}}},"/partner/account/avatar":{"post":{"tags":["Partner"],"summary":"上传头像","description":"上传用户头像,如果传入宽高参数，会返回缩略图地址","parameters":null,"requestBody":{"content":{"multipart/form-data":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"type":"object","properties":{"avatar":{"type":"binary","required":true,"description":"图片，最大支持10m上传。支持的图片格式有 (jpeg, png, jpg)"},"thumb_size":{"type":"string","required":false,"description":"返回缩略图尺寸，可选值为[origin,small,middle,large]  thumb_size 取值说明：\n  - origin:原始图片尺寸\n  - small: 200*200 px\n  - middle: 400*400 px\n  - large: 800*800 px","default":""}},"required":["tenant_id"]}]}}}},"responses":{"200":{"description":"返回上传后的头像信息","content":{"application/json":{"schema":{"$ref":"#/components/entry/AccountAvatar"}}}}}}},"/partner/account/ban":{"post":{"tags":["Partner"],"summary":"会员禁用接口","description":"禁用会员/解禁会员","parameters":null,"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"type":"object","properties":{"account_id":{"type":"integer","description":"会员账号ID","example":1000,"required":true},"is_ban":{"type":"bool","required":true,"description":"true:禁用，false:解禁","example":true}},"required":["tenant_id","account_id","is_ban"]}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/account/action_log":{"get":{"tags":["Partner"],"summary":"获取用户活跃记录","description":"获取用户活跃记录","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"path","name":"account_id","description":"会员ID","required":true,"schema":{"type":"int","example":100001}},{"in":"query","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1}}],"responses":{"200":{"description":"object","content":{"application/json":{"schema":{"$ref":"#/components/entry/Logs"}}}}}}},"/partner/account/data_board":{"get":{"tags":["Partner"],"summary":"会员数据看板","description":"会员数据看板","parameters":[{"$ref":"#/components/parameters/TenantId"}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"register_member":{"type":"integer","description":"会员注册数","example":1000},"active_member":{"type":"integer","description":"活跃会员数","example":100},"referrers":{"type":"integer","description":"推荐会员数","example":100}}}}}}}}}}},"/partner/account/address":{"get":{"tags":["Partner"],"summary":"会员地址列表","description":"搜索某会员的会员地址","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"path","name":"account_id","description":"account_id","required":true,"schema":{"type":"int","example":100001}},{"in":"query","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1,"default":1}},{"in":"query","name":"size","description":"每页显示个数","required":false,"schema":{"type":"int","example":15,"default":15}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Addresses"}}}}}}}}},"/partner/account/address/add":{"post":{"tags":["Partner"],"summary":"创建会员地址","description":"创建某会员的会员地址","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"type":null,"properties":{"account_id":{"type":"integer","description":"会员账号ID","example":10001,"required":true}},"required":["account_id","tenant_id"]},{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AddressBase"}]}}}},"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Address"}}}}}}}}},"/partner/account/address/update":{"post":{"tags":["Partner"],"summary":"更新会员地址","description":"更新某会员的会员地址","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"type":null,"properties":{"account_id":{"type":"integer","description":"会员账号ID","example":10001,"required":true}},"required":["account_id","tenant_id"]},{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AddressAdd"}]}}}},"responses":{"200":{"description":"返回操作结果","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Address"}}}}}}}}},"/partner/account/address/remove":{"post":{"tags":["Partner"],"summary":"删除会员地址","description":"删除某会员的会员地址","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"type":null,"properties":{"account_id":{"type":"integer","description":"会员账号ID","example":10001,"required":true}},"required":["account_id","tenant_id"]},{"$ref":"#/components/entry/TenantId"}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/account/address/detail":{"get":{"tags":["Partner"],"summary":"会员地址详情","description":"获取某会员的会员地址详情","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"path","name":"account_id","description":"account_id","required":true,"schema":{"type":"int","example":100001}},{"in":"path","name":"address_id","description":"address_id","required":true,"schema":{"type":"int","example":1}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Address"}}}}}}}}},"/partner/address/enum_option":{"get":{"tags":["Partner"],"summary":"字典枚举（地址）","description":"字典枚举（地址）","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"query","name":"type","description":"查询国家列表：word，查询省份列表：country，查询城市列表：province，查询县/区列表：city","required":true,"schema":{"type":"string","example":"province"}},{"in":"query","name":"name","description":"名称，若 type = word 时为空","required":false,"schema":{"type":"string","example":"广东省"}}],"responses":{"200":{"description":"成功/失败，失败查询具体错误码","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"string","example":"深圳市"}}}}}}}}}},"/partner/app":{"get":{"tags":["Partner"],"summary":"应用列表","description":"获取某租户的应用列表","parameters":[{"$ref":"#/components/parameters/TenantId"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Apps"}}}}}}}}},"/partner/app/add":{"post":{"tags":["Partner"],"summary":"创建应用","description":"创建某租户的应用","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AppBase"},{"type":"object","required":["tenant_id"]}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/app/detail":{"get":{"tags":["Partner"],"summary":"应用详情","description":"获取某租户的应用详情","parameters":[{"$ref":"#/components/parameters/TenantId"},{"name":"id","in":"query","description":"应用id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/App"}}}}}}}}},"/partner/apps/reset_secret":{"get":{"tags":["Partner"],"summary":"生成api secret","description":"生成api secret","parameters":[{"$ref":"#/components/parameters/TenantId"},{"name":"id","in":"query","description":"应用id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppResetSecret"}}}}}}},"/partner/app/config/ui":{"post":{"tags":["Partner"],"summary":"应用ui配置","description":"应用与sdk相关的ui设置","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AppUiConfig"}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/app/config/ui/detail":{"get":{"tags":["Partner"],"summary":"获取应用ui配置","description":"获取应用与sdk相关的ui设置","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"query","name":"app_id","description":"应用ID","schema":{"type":"integer"},"example":1,"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppUiConfig"}}}}}}},"/partner/app/config/sdk":{"post":{"tags":["Partner"],"summary":"获取应用sdk配置","description":"获取应用与sdk相关的设置","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AppSdkConfig"}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/app/config/sdk/detail":{"get":{"tags":["Partner"],"summary":"应用sdk配置","description":"应用与sdk相关的设置","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"query","name":"app_id","description":"应用ID","schema":{"type":"integer"},"example":1,"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppSdkConfig"}}}}}}},"/partner/app/config/third_party":{"post":{"tags":["Partner"],"summary":"第三方登录配置","description":"第三方登录配置","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"$ref":"#/components/entry/AppThirdPartyConfigAdd"}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/app/config/third_party/list":{"get":{"tags":["Partner"],"summary":"获取第三方登录配置","description":"获取第三方登录配置","parameters":[{"$ref":"#/components/parameters/TenantId"},{"in":"query","name":"app_id","description":"应用ID","schema":{"type":"integer"},"example":1,"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"$ref":"#/components/entry/AppThirdPartyConfig"}}}}}}},"/partner/points/app/set_config":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"第三方应用设置配置(积分系统)","description":"业务方可以调用此接口来注册或者更新对应查询接口地址或者配置。\n","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"app_key":{"description":"账号系统颁发的 appKey","required":true,"type":"string","example":"34343434324sjwkhejhjuiuiuisudiu"},"freeze":{"type":"string","example":{"action_query_api_url":"http://xxx/api/v1/transaction/status","action_query_after":86400,"timeout":604800,"app_secret":"3434ui3ohjekhjhjerioi"},"description":"参数说明:\n\n\n以下参数都为必填项，`action_query_api_url` 允许为空。\n\n* action_query_api_url：值为 URL 或者空类型；冻结结果主动查询 API URL ，一次冻结超过 action_query_after 时会使用此 URL 开始进行查询。此 API 的定义为 freeze_action_query_api。如果为空，则不会进行主动查询。默认为空。\n\n* action_query_after：值为 integer 类型；冻结结果主动查询开始时间，单位是秒，一次冻结超过此时间会使用 action_query_api_url 开始进行主动查询。默认为24小时。\n\n* timeout：值为 integer 类型；冻结超时时间，单位是秒，冻结超过此时间将会被强制取消。默认为7天。\n\n* app_secret：值为 string 类型；可选参数，如果设置了 app_secret 的值，请求 action_query_api_url 的时候，会用 app_key 和 app_secret 生成 JWT，添加到 Header 上","required":true},"default_language":{"type":"string","enum":["en","zh-Hans-CN","zh-Hant-HK"],"example":"zh-Hant-HK","description":"default_language：默认语言选线，当调用接口没有在 HTTP Header 中使用 `Content-Language` 时，返回的数据会使用到此参数作为语言，如果此参数也没有，则使用 `zh-Hant-CN`"},"transaction_title_template":{"type":"string","example":{"template_key":{"from":{"en":"display english transaction description","zh-Hans-CN":"展示积分明细描述, 使用简体中文","zh-Hant-HK":"展示積分明細描述, 使用繁體中文"}},"hk01.protobuf.wallet.payment.PaymentSuccess":{"from":{"en":"Payment success! You payed {amount} points to {target_nickname}","zh-Hans-CN":"交易成功, 你向 {target_nickname} 支付了 {amount} 个积分.","zh-Hant-HK":"交易成功, 你向 {target_nickname} 支付了 {amount} 個積分."},"to":{"en":"Payment success! You received {amount} points from {from_nickname}","zh-Hans-CN":"交易成功! 你从 {target_nickname} 获得 {amount} 个积分.","zh-Hant-HK":"交易成功! 你從 {target_nickname} 獲得 {amount} 個積分."}},"self_defined_template_key_1":{"from":{"en":"Thank you! You donate {amount} points for this campaign.","zh-Hans-CN":"感谢你, 你为这个活动捐赠了 {amount} 个积分.","zh-Hant-HK":"感謝你, 你為這個活動捐贈了 {amount} 個積分."}},"self_defined_template_key_2":{"to":{"en":"Congratulations! You earn {amount} points from this campaign.","zh-Hans-CN":"恭喜你! 参加活动获取了 {amount} 个积分.","zh-Hant-HK":"恭喜你! 參加活動獲取了 {amount} 個積分."}}},"description":"transaction_title_template： 为积分明细配置模板，详情使查看文档头部说明"}},"required":["freeze","api_key","tenant_id"]}}}},"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string","example":"success"},"data":{"$ref":"#/components/schemas/AppConfigInfo"}}}}}}}}},"/partner/points/app/get_config":{"get":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"获取第三方应用设置配置信息（积分系统）","description":"业务方根据 key 查询对应的配置信息。\n","parameters":[{"$ref":"#/components/parameters/TenantId"},{"name":"app_key","in":"query","description":"账号系统颁发的 appKey","required":true,"schema":{"type":"string","example":"34343434324sjwkhejhjuiuiuisudiu"}}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string","example":"success"},"data":{"$ref":"#/components/schemas/AppConfigInfo"}}}}}}}}},"/partner/dictionary":{"get":{"tags":["Partner"],"summary":"所有可以用的会员字典列表","description":"获取所有平台发布可用的会员字典列表","parameters":[{"$ref":"#/components/parameters/TenantId"}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Dictionaries"}}}}}}}}},"$freeze_action_query_api":{"get":{"servers":[{"url":null,"description":null}],"security":[{"bearerAuth":[]}],"tags":["Partner-points-core 为接入方定义接口"],"summary":"冻结结果查询接口","description":"此接口为接入方实现，积分系统负责制定接口规范以及调用。\n\n根据外部订单流水号 out_sn 和冻结记录 id 查询冻结记录结果，以便进一步操作。 请求地址具体要看注册 API URL，这里只明确请求参数和返回结果。\n\n当请求此接口出现以下情况的时候，会再次进行4次查询，第2次至第5次开始时间相对第一次执行时间分别相隔30秒，60秒，120秒，240秒，如果第5次还是数据异常，就按照 `/app/set_config` 接口配置的 `timeout` 时间之后强制取消冻结。  - 接口不返回数据或者404\n  - HTTP status Code 不是200\n  - 返回值的 code 不为 0\n  - 返回值的中 `out_sn` 不与请求的 `out_sn` 匹配\n  - 返回值的中 `action` 不属于 `commit_transaction`、`cancel`、`hold` 中","parameters":[{"name":"out_sn","in":"query","description":"交易流水号","required":true,"schema":{"type":"string"},"example":"test122334234"},{"name":"freeze_record_id","in":"query","description":"冻结记录id","required":true,"schema":{"type":"string"},"example":129494}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","description":"返回值 data 里面的 result 为必须","properties":{"code":{"type":"integer"},"message":{"type":"string","example":"成功"},"data":{"$ref":"#/components/schemas/AppFreezeActionQueryApi"}}}}}}}}},"/partner/points/account/update":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"更新用户的账户信息","description":"根据 account_id 更新用户信息。（状态信息）\n","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"account_id":{"type":"integer","description":"账户的 account_id","example":18283723332,"required":true},"status":{"$ref":"#/components/schemas/PointsAccountUpdateStatus"},"username":{"type":"string","example":"张三"}},"required":["tenant_id"]}}}},"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PointsAccountInfo"},"extra":{"type":"object","properties":{}}}}}}}}}},"/partner/points/account/detail":{"get":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"查询用户的账户信息（积分信息）","description":"根据 account_id 查询用户积分详细，包括当前的可用积分和不可用积分（冻结积分）。\n","parameters":[{"$ref":"#/components/parameters/TenantId"},{"$ref":"#/components/parameters/accountIdPathParam"},{"name":"with_income_sub_account","in":"query","description":"同时返回收分子账户余额","required":false,"schema":{"type":"boolean"}},{"name":"with_offer_sub_account","in":"query","description":"同时返回发放子账户余额","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PointsAccountInfo"},"extra":{"type":"object","properties":{"has_binding_phone":{"type":"boolean","description":"用户是否绑定手机号码","example":false},"income_sub_account_balance_amount":{"type":"integer","description":"收分子账户余额, 当 `with_income_sub_account` 参数为 `true` 时返回","example":0},"offer_sub_account_balance_amount":{"type":"integer","description":"发放子账户余额, 当 `with_offer_sub_account` 参数为 `true` 时返回","example":0}}}}}}}}}}},"/partner/points/account/search":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"系统全部账户的列表","description":"查询系统全部账户（积分余额）的列表\n","parameters":[{"$ref":"#/components/parameters/TenantId"},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"},{"$ref":"#/components/parameters/roleTypeParam"},{"$ref":"#/components/parameters/sortParam"},{"name":"account_id","in":"query","description":"账户的 account_id，通过 account_id 搜索","required":false,"schema":{"type":"string"},"example":2773912304},{"name":"username","in":"query","description":"账户用户名（除普通会员外）,支持模糊搜索","required":false,"schema":{"type":"string"},"example":"test"},{"name":"status","in":"query","description":"账户状态\n* activation 激活　\n* not_activated 未启用　\n* freeze 冻结（能进不能出）","required":false,"schema":{"type":"string","enum":["activation","not_activated","freeze"]}},{"name":"account_id_list","in":"query","description":"用户的 account_id 列表，当 account_id 参数没有值的时候此参数才生效(每个account_id的类型为integer)","required":false,"schema":{"type":"object"},"example":"[12133,32324,32543]"}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PointsAccountBalanceList"},"extra":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}}}}}},"/partner/points/record/fragment":{"get":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"查询用户积分有效期列表","description":"根据 account_id 查询积分有效期列表","parameters":[{"$ref":"#/components/parameters/TenantId"},{"$ref":"#/components/parameters/accountIdPathParam"},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回用户积分有效期列表","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PointsFragmentRecordArray"},"extra":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/Pagination"},"total_amount":{"type":"integer","description":"积分总计","example":6000}}}}}}}}}}},"/partner/points/batch_offer":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"批量发放","description":"给多个 **普通用户** 发放积分。\n\n积分流向：从发放子账户　到　交易子账户","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"from_account_id":{"type":"integer","description":"发放积分账户的 account_id","example":344485885854,"required":true},"threshold":{"type":"integer","description":"阈值。当账户积分余额低于阈值时，交易失败。","example":3384},"to_account_id_list":{"type":"array","description":"目标用户的 account_id","items":{"type":"integer"},"required":true},"amount":{"type":"float","description":"发放的积分数量，目前只支持没有小数点的 float 型","example":139494,"required":true},"out_sn":{"type":"string","description":"外部流水号","example":3939948484,"required":true},"source":{"type":"string","description":"外部来源","example":"mcp","required":true},"remark":{"type":"string","description":"外部备注信息，可以是json格式。其格式具体定义由source确定。","example":"{  \"manual_offer\": [\n    {\n      \"operator\": \"xx@hk01.com\",\n      \"reason\": \"so cool!\",\n    },\n    {\n      \"operator\": \"yy@hk01.com\",\n      \"reason\": \"just a little cool!\",\n    }\n  ]\n}","required":true},"push_notification":{"type":"integer","description":"是否发通知，1表示发通知 0不发通知，默认是1。","example":0},"expire_date":{"type":"string","description":"发放的积分过期日期，目前只支持精确到天，时区是 UTC+8。目前支持最大值是 2038-01-18","example":"2019-07-03","required":true}},"required":["from_account_id","to_account_id_list","amount","out_sn","remark","source","expired_date","tenant_id"]}}}},"responses":{"200":{"description":"Successful. 返回交易记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"total":{"type":"integer","description":"用户总数"},"offer_success":{"type":"integer","description":"发放成功的用户数"},"success_list":{"type":"array","items":{"type":"string","description":"发放成功的流水号"}},"offer_fail":{"type":"integer","description":"发放失败的用户数量"},"fail_list":{"type":"array","items":{"type":"object","properties":{"account_id":{"type":"integer","description":"account_id"},"reason":{"type":"string","description":"失败的原因"}}}}}},"extra":{"type":"object","example":{}}}}}}}}}},"/partner/points/offer":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"发放","description":"给 **普通用户** 发放积分。\n\n积分流向：从发放子账户　到　交易子账户","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"from_account_id":{"type":"integer","description":"发放积分账户的 account_id","example":344485885854,"required":true},"to_account_id":{"type":"integer","description":"接收人账户的 account_id","example":187664023444,"required":true},"threshold":{"type":"integer","description":"发放积分账户余额阈值。当发放账户积分余额低于阈值时，交易失败。","example":3384},"amount":{"type":"float","description":"发放的积分数量，目前只支持没有小数点的 float 型","example":139494,"required":true},"out_sn":{"type":"string","description":"外部流水号","example":3939948484,"required":true},"source":{"type":"string","description":"外部来源","example":"policy-offer","required":true},"remark":{"type":"string","description":"外部备注信息，可以是json格式。其格式具体定义由source确定。","example":"{  \"offer_entry_id\":123,\n  \"offer_rule_matched\":[\n    {\n      \"offer_rule_id\":321,\n      \"offer_rule_detail\":[\n        {\n          \"event_key\":\"GamePlayCompleted\",\n          \"event_condition\":\"score_in_game:0-200\",\n          \"trigger_num\":3,\n          \"happened_num\":5,\n          \"changed\":true\n        },\n        {\n          \"event_key\":\"GamePlayCompleted\",\n          \"event_condition\":\"score_in_game:201-300\",\n          \"trigger_num\":5,\n          \"happened_num\":1,\n          \"changed\":false\n        }\n      ]\n    }\n  ]\n}","required":true},"push_notification":{"type":"integer","description":"是否发通知，1表示发通知 0不发通知，默认是1。","example":0},"triggered_event_key":{"type":"string","description":"目前只针对积分引擎传过来才有此参数，指最终触发本次发放的事件key值","example":"hk01.protobuf.game.mcgame.GameCompleted"},"triggered_event_publisher_info":{"type":"string","description":"\n目前只针对积分引擎传过来才有此参数，指最终触发本次发放的事件（触发事件）发送者自定义的信息，此数据可以用来精准识别触发事件。 其来源于触发事件中可选的特定事件参数 publisher_info，可能为空。如果需要用此参数，则触发事件的发送者需注意：\n1. 必须在自己的事件定义中以 publisher_info 为名称定义事件参数；\n2. publisher_info 参数必须在事件的 message body 顶层；\n3. publisher_info 参数必须为string类型；\n4. 在发送事件时填充自己可识别的值到 publisher_info ，例如uuid或订单号。","example":"POINT-1904282077970793"},"expire_date":{"type":"string","description":"发放的积分过期日期，目前只支持精确到天，时区是 UTC+8。目前支持最大值是 2038-01-18","example":"2019-07-03","required":true}},"required":["from_account_id","to_account_id","amount","out_sn","source","remark","expired_date","tenant_id"]}}}},"responses":{"200":{"description":"Successful. 返回交易记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":0},"message":{"type":"string","example":"success"},"data":{"$ref":"#/components/schemas/TransactionRecord"},"extra":{"type":"object","properties":{"from_account":{"$ref":"#/components/schemas/PointsAccountBase"},"to_account":{"$ref":"#/components/schemas/PointsAccountBase"}}}}}}}}}}},"/partner/points/reverse_transaction/cancel_offer":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"取消发分","description":"针对发积分操作的反向操作,取消发分 积分流向：从交易子账户　到　发放子账户 业务调用方只能取消自己发的分,会根据 app_key 来做校验 如果用户的积分不足,则不能进行取消加分","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"transaction_out_sn":{"type":"string","description":"原交易时的外部流水号","example":3939948484,"required":true},"reverse_transaction_sn":{"type":"string","description":"这次退分的交易号,因为是跨系统调用,退分又要求支持多次退分,所以需要用一个唯一的业务流水号来做幂等处理","example":39399484841,"required":true},"source":{"type":"string","description":"来源","example":"policy","required":true},"reverse_amount":{"type":"integer","description":"要退多少分","example":1000,"required":true},"remark":{"type":"string","description":"外部备注信息，json格式","example":"{  \"message\":\"七天无理由退款\"\n}","required":true}},"required":["transaction_out_sn","reverse_transaction_sn","reverse_amount","source","remark","tenant_id"]}}}},"responses":{"200":{"description":"Successful. 返回交易记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":0},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"reverse_amount":{"type":"integer","description":"退回的积分总额","example":1000},"expired_amount":{"type":"integer","description":"过期的积分","example":1000}}}}}}}}}}},"/partner/tenant":{"get":{"tags":["Partner"],"summary":"租户列表","description":"获取租户列表","parameters":[{"name":"name","in":"query","description":"租户名称","schema":{"type":"string"}},{"name":"contact_name","in":"query","description":"联系人姓名","schema":{"type":"string"}},{"name":"contact_phone","in":"query","description":"联系人手机","schema":{"type":"string"}},{"name":"contact_email","in":"query","description":"联系人邮箱","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"$ref":"#/components/entry/Tenants"}}}}}}},"/partner/tenant/add":{"post":{"tags":["Partner"],"summary":"创建租户","description":"创建租户","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/TenantAdd"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/tenant/update":{"post":{"tags":["Partner"],"summary":"更新租户","description":"更新租户","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/TenantUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/tenant/detail":{"get":{"tags":["Partner"],"summary":"租户详情","description":"获取某租户详情","parameters":[{"in":"query","name":"id","description":"租户ID","schema":{"type":"integer"},"required":["id"]}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/TenantDetail"}}}}}}}}},"/partner/tenant/update_status":{"post":{"tags":["Partner"],"summary":"更新租户状态","description":"更新租户的状态","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true},"status":{"type":"integer","description":"状态，(0 正常，1 停用，2 试用，3 删除)","example":1,"required":true}},"required":["id","status"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/tenant/init_status":{"get":{"tags":["Partner"],"summary":"租户初始化状态","description":"获取某租户的初始化状态","parameters":[{"in":"query","name":"id","description":"租户ID","schema":{"type":"int"},"required":["id"]}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"init_status":{"type":"integer","description":"初始化状态, (0 已经初始化, 1 初始化进行中, 2 未初始化)","example":1}}}}}}}}}}},"/partner/tenant/dictionary":{"get":{"tags":["Partner"],"summary":"租户会员字典列表","description":"租户已配置的会员字典列表","parameters":[{"in":"query","name":"id","description":"租户ID","schema":{"type":"int"},"required":["id"]}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Dictionaries"}}}}}}}}},"/partner/tenant/dictionary/config":{"post":{"tags":["Partner"],"summary":"配置租户会员字典模型","description":"配置租户会员字典模型","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true},"member_dictionary_ids":{"type":"array","description":"字典id列表","required":true,"items":{"type":"integer"}}},"required":["id","member_dictionary_ids"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/tenant/init":{"post":{"tags":["Partner"],"summary":"租户请求初始化","description":"租户请求初始化，初始化系统有","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"租户ID","example":1,"required":true},"zone_id":{"type":"integer","description":"节点ID","example":1,"required":true},"system":{"type":"string","description":"系统名, (member-account-system-kit：会员系统，points-core-system-kit：租户系统)","enum":["member-account-system-kit","points-core-system-kit"]}},"required":["id","zone_id"]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/tenant/token_key":{"get":{"tags":["Partner"],"summary":"获取租户token公钥","description":"用于租户颁发登录态token","parameters":[{"$ref":"#/components/parameters/TenantId"}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"token_key":{"type":"string","description":"token_key","example":"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0NCk1JR2ZNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0R05BRENCaVFLQmdRQ2lpN1JVR3RaR1h2Z1lQaExieXNkUEIxelINCnAyNHBTdTFLaW5WLzRLV0JDd0pvT1dER01NL2J3cWJweEJFZlpvT0toc3hLM3VYNDdmdXEvWUQwUVFhdm1obGoNCktPL3ZrTkxrRENROWFGeThBL0Y0dzdrS0NQZk9DTCtmR2J6RjlnWXk3VVpvZnBEQndndHdMVUpJSmhPWjJEaG4NCktkVUkrUC80dXYrdWJFblpsUUlEQVFBQg0KLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0t"}}}}}}}}}}},"/partner/tenant/admin_user/add":{"post":{"tags":["Partner"],"summary":"租户添加超级管理员账号","description":"租户添加超级管理员账号","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"},{"type":"object","properties":{"user_name":{"type":"string","description":"姓名","example":"火火","required":true},"email":{"type":"string","description":"邮箱","example":"yixu@hk01.com","required":true},"telephone":{"type":"string","description":"手机号","example":169203947122,"required":true}}}]}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/partner/points/transact":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"交易","description":"用户创建一笔交易。\n积分流向：从交易子账户 到 收分子账户","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"from_account_id":{"type":"integer","description":"发放积分账户的 account_id","example":1828437413,"required":true},"to_account_id":{"type":"integer","description":"接收人账户的 account_id","example":1828437413,"required":true},"amount":{"type":"float","description":"交易金额，目前只支持没有小数点的 float 型","example":3004,"required":true},"out_sn":{"type":"string","description":"外部流水号","example":3939948484,"required":true},"source":{"type":"string","description":"外部来源","example":"eatjoy-qrcode-pay","required":true},"remark":{"type":"string","description":"外部备注信息，可以是json格式。其格式具体定义由source确定。","example":"{  \"order_id\": 129484448,\n  \"pay_time\": \"2018-08-12T15:19:21+08:00\",\n  \"qrcode-sn\": 339829983284,\n  \"money\": 220.00\n}","required":true},"push_notification":{"type":"integer","description":"是否发通知，1表示发通知 0不发通知，默认是1。","example":0}},"required":["from_account_id","to_account_id","amount","out_sn","source","remark","tenant_id"]}}}},"responses":{"200":{"description":"Successful. 返回交易记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/TransactionRecord"},"extra":{"type":"object","properties":{"from_account":{"$ref":"#/components/schemas/PointsAccountBalance"},"to_account":{"$ref":"#/components/schemas/PointsAccountBalance"}}}}}}}}}}},"/partner/points/freeze/transacting":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"交易时冻结","description":"交易时冻结: 指在交易过程中，暂时将用户的一笔积分转为不可用状态。\n\n交易时冻结是一个中间状态，将用户的积分冻结后，会执行二个后续的操作之一：取消冻结或冻结转交易。\n\n（一期暂未实现）在长时间未调用取消或转交易的情况下，积分系统会以一定的间隔调用查询API以处理该笔冻结。查询API是调用方所提供的预定义API接口，并颁发调用方client_id的时候进行配置。\n\n另外，如果一定时间内查询API也未能有效调用，则会进行强制冻结取消。\n交易时冻结使用的场景: 积分和港币混合支付。支付时先将对应的积分冻结，待用户取消付款或付款完成是再解冻或将该笔冻结的积分转为交易。\n","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"from_account_id":{"type":"integer","description":"发放积分账户的 account_id","example":1828437413,"required":true},"to_account_id":{"type":"integer","description":"收分商家账户的 account_id","example":344485885854,"required":true},"out_sn":{"type":"string","description":"外部流水号","example":3939948484,"required":true},"amount":{"type":"float","description":"需要冻结的积分数量， 目前只支持没有小数点的 float 型","example":100,"required":true},"source":{"type":"string","description":"外部的交易类型","example":"order","required":true},"remark":{"type":"string","description":"外部备注信息，可以是json格式。其格式具体定义由source确定。","example":"{  \"order_id\": 129484448,\n  \"pay_time\": \"2018-08-12T15:19:21+08:00\",\n  \"qrcode-sn\": 339829983284,\n  \"money\": 220.00\n}","required":true}},"required":["from_account_id","to_account_id","out_sn","amount","source","remark","tenant_id"]}}}},"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FreezeRecord"},"extra":{"type":"object","properties":{"from_account":{"$ref":"#/components/schemas/PointsAccountBase"}}}}}}}}}}},"/partner/points/freeze/commit_transaction":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"冻结转交易","description":"使用 out_sn 或 freeze_record_id 将对应冻结的积分转为交易，即解冻积分并完成积分交易。","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"freeze_record_id":{"type":"integer","description":"冻结记录id, 与 out_sn 二选一","example":12,"required":true},"out_sn":{"type":"string","description":"外部流水号, 与 freeze_record_id 二选一","example":129494,"required":true}},"required":["tenant_id"]}}}},"responses":{"200":{"description":"Successful. 返回冻结记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FreezeRecord"},"extra":{"type":"object","properties":{"from_account":{"$ref":"#/components/schemas/PointsAccountBase"},"to_account":{"$ref":"#/components/schemas/PointsAccountBase"}}}}}}}}}}},"/partner/points/freeze/cancel":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"冻结取消","description":"使用 out_sn 或 freeze_record_id 将交易时冻结的积分直接解冻，不完成积分交易。在交易失败或取消的情况下，需要调用此接口进行解冻。","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"freeze_record_id":{"type":"integer","description":"冻结记录id, 与 out_sn 二选一","example":12,"required":true},"out_sn":{"type":"string","description":"外部流水号, 与 freeze_record_id 二选一","example":129494,"required":true},"reason":{"type":"string","description":"取消原因","example":"订单付款超时","required":true}},"required":["reason","tenant_id"]}}}},"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FreezeRecord"},"extra":{"type":"object","properties":{"from_account":{"$ref":"#/components/schemas/PointsAccountBase"}}}}}}}}}}},"/partner/points/reverse_transaction/refund":{"post":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"交易退分","description":"针对交易的反向操作,退积分 积分流向：从收分子账户　到　交易子账户 业务调用方只能取消自己的交易单,会根据 app_key 来做校验","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/entry/TenantId"}],"type":"object","properties":{"transaction_out_sn":{"type":"string","description":"原交易时的外部流水号","example":3939948484,"required":true},"reverse_transaction_sn":{"type":"string","description":"这次退分的交易号,因为是跨系统调用,退分又要求支持多次退分,所以需要用一个唯一的业务流水号来做幂等处理","example":39399484841,"required":true},"source":{"type":"string","description":"来源","example":"policy","required":true},"reverse_amount":{"type":"integer","description":"要退多少分","example":1000,"required":true},"remark":{"type":"string","description":"外部备注信息，json格式","example":"{  \"message\":\"七天无理由退款\"\n}","required":true}},"required":["transaction_out_sn","reverse_transaction_sn","source","reverse_amount","remark","tenant_id"]}}}},"responses":{"200":{"description":"Successful. 返回交易记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":0},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"reverse_amount":{"type":"integer","description":"退回的积分总额","example":1000}}}}}}}}}}},"/partner/points/reverse_transaction/check":{"get":{"security":[{"bearerAuth":[]}],"tags":["Partner-points-core"],"summary":"退积分检查接口","description":"退积分检查接口,包含取消发分检查和交易退分检查","parameters":[{"$ref":"#/components/parameters/TenantId"},{"name":"transaction_out_sn","required":true,"in":"query","description":"外部交易号","schema":{"type":"string"}},{"name":"reverse_amount","required":true,"in":"query","description":"要退积分数量","schema":{"type":"integer","format":"int32"}},{"name":"reverse_type","in":"query","description":"要查询的原交易类型,默认是自动识别要查询的原交易类型","required":false,"schema":{"type":"string","enum":["offer","transact","auto"]}}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":0},"message":{"type":"string","example":"success"},"data":{"type":"object","properties":{"can_reverse":{"description":"是否可退","type":"boolean","example":true},"can_reverse_amount":{"description":"可退积分数量","type":"integer","example":6000},"cannot_reverse_amount":{"description":"不可退积分数量","type":"integer","example":1000}}}}}}}}}}},"/partner/zone":{"get":{"tags":["Partner"],"summary":"地域列表","description":"获取所有可选的地域列表","parameters":[{"$ref":"#/components/parameters/TenantId"}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"endpoints":{"$ref":"#/components/entry/Zones"},"use":{"type":"integer","description":"当前使用的节点id","example":1}}}}}}}}}}},"/frontend/points/offer_entry/approval":{"get":{"tags":["积分系统"],"summary":"发放项审批","description":"发放项审批","parameters":[{"name":"id","in":"query","description":"发放项id","schema":{"type":"integer"}},{"name":"result","in":"query","description":"审批结果：0通过 1拒绝","schema":{"type":"integer"}},{"name":"remark","in":"query","description":"审批备注","schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/manual_offer/approval":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"手动发分审批","description":"手动发分审批","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"}},{"name":"result","in":"query","description":"审批结果：0通过 1拒绝","schema":{"type":"integer"}},{"name":"remark","in":"query","description":"审批备注","schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/manual_offer":{"get":{"tags":["积分系统"],"summary":"手动发分审批列表","description":"手动发分审批列表","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"}},{"name":"offer_account_name","in":"query","description":"发放账户名称","schema":{"type":"string"}},{"name":"launch_by","in":"query","description":"发起人名称","schema":{"type":"string"}},{"name":"start_time","in":"query","description":"发起开始时间","schema":{"type":"string"}},{"name":"end_time","in":"query","description":"发起结束时间","schema":{"type":"string"}},{"name":"department_id","in":"query","description":"部门id","schema":{"type":"integer"}},{"name":"receive_id","in":"query","description":"接收账户id","schema":{"type":"integer"}},{"name":"status","in":"query","description":"状态：0审批通过，1审批中，2审批拒绝","schema":{"type":"integer"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"integer","description":"id","example":1},"status":{"type":"integer","description":"审批状态：0审批通过，1审批中，2审批拒绝","example":0},"offer_account_id":{"type":"string","description":"发放项账户id","example":389275843276},"amount":{"type":"integer","description":"积分发放数额","example":10},"department_id":{"type":"integer","description":"部门id","example":1},"department_name":{"type":"string","description":"部门名称","example":"会员部"},"receiver_info":{"type":"array","description":"发放结果","items":{"type":"object","properties":{"receive_id":{"type":"string","description":"接收账户id","example":43895743766472},"receive_name":{"type":"string","description":"接收账户名称","example":"本宝宝"}}}},"offer_account_name":{"type":"string","description":"发放账户名称","example":"会员部账户"},"user_name":{"type":"string","description":"申请人名称","example":"徐燚"},"approval_by":{"type":"string","description":"审批人名称","example":"火火"},"created_at":{"type":"string","description":"发起时间","example":"2019-10-01 02:38:42"},"updated_at":{"type":"string","description":"操作时间","example":"2019-10-01 02:38:42"}}}}}}}}}}},"/frontend/points/approval_list/offer_entry":{"get":{"tags":["积分系统"],"summary":"发放项审批列表","description":"发放项审批列表","parameters":[{"name":"id","in":"query","description":"发放项id","schema":{"type":"integer"}},{"name":"department_id","in":"query","description":"部门id","schema":{"type":"integer"}},{"name":"entry_name","in":"query","description":"发放项名称","schema":{"type":"string"}},{"name":"a_start_time","in":"query","description":"申请开始时间","schema":{"type":"string"}},{"name":"a_end_time","in":"query","description":"申请结束时间","schema":{"type":"string"}},{"name":"e_start_time","in":"query","description":"有效开始时间","schema":{"type":"string"}},{"name":"e_end_time","in":"query","description":"有效结束时间","schema":{"type":"string"}},{"name":"u_start_time","in":"query","description":"操作开始时间","schema":{"type":"string"}},{"name":"u_end_time","in":"query","description":"操作结束时间","schema":{"type":"string"}},{"name":"a_start_time","in":"query","description":"申请开始时间","schema":{"type":"string"}},{"name":"launch_by","in":"query","description":"发起人","schema":{"type":"string"}},{"name":"status","in":"query","description":"审批状态，2待审批，1，5审批通过，4审批拒绝","schema":{"type":"integer"}},{"name":"offer_account_id","in":"query","description":"发放账户id","schema":{"type":"string"}}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"发放项id","example":1},"entry_name":{"type":"string","description":"发放项名称","example":"化身孤岛的鲸"},"offer_account_id":{"type":"string","description":"发放项账户id","example":389275843276},"edit_by":{"type":"integer","description":"发起人id","example":1},"user_name":{"type":"string","description":"发起人名称","example":"徐燚"},"updated_at":{"type":"string","description":"申请时间","example":"2019-10-08 10:37:49"},"start_time":{"type":"string","description":"发放开始时间","example":"2019-10-08 10:37:49"},"end_time":{"type":"string","description":"发放失效时间","example":"2019-10-08 10:37:49"},"status":{"type":"integer","description":"状态：1、5审批通过，2待审批，4审批拒绝","example":1},"department_name":{"type":"string","description":"部门名称","example":"会员部"},"offer_policy_entry_id":{"type":"integer","description":"策略服务对应的发放项id","example":1}}}},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}}}}}},"/frontend/points/approval_log":{"get":{"tags":["积分系统"],"summary":"审批日志","description":"发放项列表","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"}},{"name":"type","in":"query","description":"类型：1积分预算，2手动发分，3发放项","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"type":"object","properties":{"union_id":{"type":"string","description":"账户id","example":184396462712},"application_id":{"type":"integer","description":"申请id","example":1},"user_name":{"type":"string","description":"审批人名称","example":"火火"},"created_at":{"type":"string","description":"审批时间","example":"2019-10-29 18:27:10"},"schedule":{"type":"string","description":"操作内容","example":"部门审批通过"},"type":{"type":"integer","description":"类型：-积分预算申请,2-手动发分申请,3-发放项","example":1},"result":{"type":"integer","description":"审批结果：0通过,1拒绝","example":1}}}}}}}}}}}},"/frontend/points/points_application/detail":{"get":{"tags":["积分系统"],"summary":"积分预算审批详情","description":"积分预算审批详情","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"integer","description":"id","example":1},"edit_by":{"type":"string","description":"发起人","example":"火火"},"department_id":{"type":"integer","description":"部门id","example":1},"department_name":{"type":"integer","description":"部门名称","example":"会员部"},"amount":{"type":"integer","description":"预算积分额度","example":100},"description":{"type":"string","description":"申请说明","example":"干啥用"},"file_url":{"type":"string","description":"附件地址","example":"http://xxx/xxx.jpg"},"file_name":{"type":"string","description":"附件原文件名称","example":"xxx.jpg"},"status":{"type":"string","description":"状态：1-审核中,2-审核通过,3-审核拒绝","example":1},"created_at":{"type":"string","description":"发起时间","example":"2019-09-26 14:57:07"}}}}}}}}}}},"frontend/points/point_collect/balance_list":{"get":{"tags":["积分系统"],"summary":"获取余额变动汇总","description":"获取余额变动汇总","parameters":[{"in":"path","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1,"default":1}},{"in":"query","name":"size","description":"每页显示个数","required":false,"schema":{"type":"int","example":15,"default":15}},{"in":"query","name":"action","description":"请求类型(get-请求数据 export_file-导出数据)","required":false,"schema":{"type":"string","example":"get"}},{"in":"query","name":"start_time","description":"开始时间","required":false,"schema":{"type":"string","example":"2019-01-01"}},{"in":"query","name":"end_time","description":"结束时间","required":false,"schema":{"type":"string","example":"2019-08-08"}},{"in":"query","name":"role_type","description":"账户类型： 1-普通账户 2-商户账户 3-运营账户 4-可运营账户","required":false,"schema":{"type":"string","example":"1"}},{"in":"query","name":"account_id","description":"账户id,使用时必须选择一种类型","required":false,"schema":{"type":"string","example":""}}],"responses":{"200":{"description":"返回信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/collect/BalanceList"}}}}}}}}},"frontend/points/point_collect/points_detail":{"get":{"tags":["积分系统"],"summary":"获取积分明细","description":"获取积分明细","parameters":[{"in":"path","name":"page","description":"页码","required":false,"schema":{"type":"int","example":1,"default":1}},{"in":"query","name":"size","description":"每页显示个数","required":false,"schema":{"type":"int","example":15,"default":15}},{"in":"query","name":"action","description":"请求类型(get-请求数据 export-file导出数据 export-check校验是否能导出数据)","required":false,"schema":{"type":"string","example":"get"}},{"in":"query","name":"start_time","description":"开始时间","required":false,"schema":{"type":"string","example":"2019-01-01"}},{"in":"query","name":"end_time","description":"结束时间","required":false,"schema":{"type":"string","example":"2019-08-08"}},{"in":"query","name":"source","description":"外部来源","required":false,"schema":{"type":"string","example":""}},{"in":"query","name":"account_id","description":"用户id","required":false,"schema":{"type":"string","example":""}},{"in":"query","name":"id","description":"内部流水号","required":false,"schema":{"type":"string","example":""}},{"in":"query","name":"raw_out_sn","description":"外部流水号","required":false,"schema":{"type":"string","example":""}},{"in":"query","name":"role_type","description":"账户的类型 : 1-普通账户 2-商家账户  3-运营账户  4-可运营商家账户","required":false,"schema":{"type":"int","example":""}},{"in":"query","name":"sort","description":"排序,-create_at按创建时间倒序,create_at按创建时间升序,默认按创建时间倒序","required":false,"schema":{"type":"string","example":""}}],"responses":{"200":{"description":"返回信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/collect/PointsDetail"}}}}}}}}},"frontend/points/point_collect/search_config":{"get":{"tags":["积分系统"],"summary":"积分变动明细-积分明细各列表需加载的下拉搜索配置","description":"积分变动明细-积分明细各列表需加载的下拉搜索配置","parameters":null,"responses":{"200":{"description":"返回信息","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/collect/SearchConfig"}}}}}}}}},"/frontend/points/department":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"获取部门列表","description":"获取部门列表","parameters":[{"name":"id","in":"query","description":"部门id","schema":{"type":"integer"}},{"name":"name","in":"query","description":"部门名称","schema":{"type":"string"}},{"name":"status","in":"query","description":"状态，0启用，1停用","schema":{"type":"integer"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Departments"}}}}}}}}},"/frontend/points/department/operate":{"post":{"tags":["积分系统"],"summary":"新增/更新部门","description":"新增/更新部门","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/DepartmentOperate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/department/change_status":{"get":{"tags":["积分系统"],"summary":"更改部门状态（启用/停用）","description":"更改部门状态（启用/停用）","parameters":[{"name":"id","in":"query","description":"部门id","schema":{"type":"integer"}},{"name":"status","in":"query","description":"状态：0启用，1停用","schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/event":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"事件列表","description":"事件列表","parameters":[{"name":"id","in":"query","description":"事件id","schema":{"type":"integer"}},{"name":"name","in":"query","description":"事件名称","schema":{"type":"string"}},{"name":"app_key","in":"query","description":"应用key","schema":{"type":"string"}},{"name":"start_time","in":"query","description":"更新开始时间","schema":{"type":"string"}},{"name":"end_time","in":"query","description":"更新结束时间","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/Events"}}}}}}}}},"/frontend/points/event/add":{"post":{"tags":["积分系统"],"summary":"新增事件","description":"新增事件","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/EventBase"}}}},"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"result":{"type":"bool","description":"执行结果：true成功，false失败","example":true}}}}}}}}}}},"/frontend/points/event/update":{"post":{"tags":["积分系统"],"summary":"更新事件","description":"更新事件","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"事件id","example":1},"event_params":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"事件参数id","example":1},"title":{"type":"string","description":"参数描述","example":"交易时间"},"type":{"type":"string","description":"参数类型","example":"dateTime"},"path":{"type":"string","description":"参数名称","example":"transaction_time"}}}}}}}}},"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"result":{"type":"bool","description":"执行结果：true成功，false失败","example":true}}}}}}}}}}},"/frontend/points/event/detail":{"get":{"tags":["积分系统"],"summary":"获取事件详情","description":"获取事件详情","parameters":[{"name":"id","in":"query","description":"时间id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/EventUpdate"}}}}}}}}},"/frontend/points/event/change_status":{"get":{"tags":["积分系统"],"summary":"事件启用/停用","description":"事件启用/停用","parameters":[{"name":"id","in":"query","description":"事件id","schema":{"type":"integer"},"required":true},{"name":"status","in":"query","description":"状态：0启用，1停用","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"result":{"type":"bool","description":"执行结果：true成功，false失败","example":true}}}}}}}}}}},"/frontend/points/event_instance":{"get":{"tags":["积分系统"],"summary":"获取发放项事件实例","description":"获取发放项事件实例","parameters":[{"name":"offer_entry_id","in":"query","description":"发放项id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/entry/EventInstance"}}}}}}}}}},"/frontend/points/event_instance/operate":{"post":{"tags":["积分系统"],"summary":"新增/更新事件实例","description":"新增/更新事件实例","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"offer_entry_id":{"type":"integer","description":"发放项id","example":1,"required":true},"params":{"type":"array","description":"事件实例参数","items":{"type":"object","properties":{"id":{"type":"integer","description":"参数id","example":1,"required":true},"condition":{"type":"array","description":"参数条件","items":{"type":"object","properties":{"symbol":{"type":"string","description":"符号","example":"\n","required":true},"value":{"type":"string","description":"值","example":"swekq1","required":true}}}}}}},"referred_app_id":{"type":"integer","description":"应用id","example":1,"required":true},"event_id":{"type":"integer","description":"所属事件id","example":1,"required":true},"action_tag_key":{"type":"string","description":"所属标签：transaction交易，action行为","example":"transaction","required":true}}}}}}}},"/frontend/points/event_instance/delete":{"get":{"tags":["积分系统"],"summary":"删除事件实例","description":"删除事件实例","parameters":[{"name":"id","in":"query","description":"事件实例id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/event/all":{"get":{"tags":["积分系统"],"summary":"获取所有应用事件","description":"获取所有应用事件","responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"app_events":{"type":"array","description":"应用与事件的对应关系","items":{"type":"object","properties":{"app_key":{"type":"string","description":"应用key","example":"u23iu43u2yu4"},"event_ids":{"type":"array","description":"事件id","example":[1,2,3]}}}},"events":{"type":"array","description":"事件信息","items":{"type":"object","properties":{"id":{"type":"integer","description":"事件id","example":1},"event_key":{"type":"string","description":"事件key","example":"k2u3hiu4"},"name":{"type":"string","description":"事件名称","example":"事件1"},"action_tag_key":{"type":"string","description":"事件所属标签key","example":"transaction"},"event_params":{"type":"array","description":"事件参数","items":{"type":"object","properties":{"id":{"type":"integer","description":"参数id","example":1},"path":{"type":"string","description":"参数名称","example":"transaction_time"},"type":{"type":"string","description":"参数类型","example":"dateTime"},"title":{"type":"string","description":"参数描述","example":"交易时间"}}}}}}},"tag_info":{"type":"array","description":"标签信息","items":{"type":"object","properties":{"tag_name":{"type":"string","description":"标签名称","example":"交易（啥啥啥）"},"tag_key":{"type":"string","description":"标签key","example":"transaction"}}}}}}}}}}}}}},"/frontend/points/offer_entry":{"get":{"tags":["积分系统"],"summary":"发放项列表","description":"发放项列表","parameters":[{"name":"id","in":"query","description":"发放项id","schema":{"type":"integer"}},{"name":"entry_name","in":"query","description":"发放项名称","schema":{"type":"string"}},{"name":"offer_account_name","in":"query","description":"发放账户名称","schema":{"type":"string"}},{"name":"start_time","in":"query","description":"发放开始时间","schema":{"type":"string"}},{"name":"end_time","in":"query","description":"发放结束时间","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/OfferEntries"}}}}}}}}},"/frontend/points/offer_entry/add":{"post":{"tags":["积分系统"],"summary":"新增发放项","description":"新增发放项","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/OfferEntryBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/offer_entry/update":{"post":{"tags":["积分系统"],"summary":"更新发放项","description":"更新发放项","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/OfferEntryUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/offer_entry/change_status":{"get":{"tags":["积分系统"],"summary":"更改发放项状态","description":"更改发放项状态，操作 `取消提交审核`，`停发`，`恢复发放`，`删除`","parameters":[{"name":"id","in":"query","description":"发放项id","schema":{"type":"integer"},"required":true},{"name":"action","in":"query","description":"操作行为标识：stop停发，recover恢复发放，cancel取消申请，delete删除","schema":{"type":"string"},"required":true},{"name":"offer_policy_entry_id","in":"query","description":"策略服务对应的发放项id，操作 `停发`，`恢复发放`时必填","schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/offer_entry/detail":{"get":{"tags":["积分系统"],"summary":"发放项详情","description":"发放项详情","parameters":[{"name":"id","in":"query","description":"发放项id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"description":"Successful.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/OfferEntryDetail"}}}}}}}}},"/frontend/points/manual_offer/add":{"post":{"tags":["积分系统","积分系统-B端接口"],"summary":"新增手动发放","description":"新增手动发放","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/ManualOfferBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/manual_offer/detail":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"手动发分详情","description":"手动发分详情","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"}}],"responses":{"200":{"description":"Successful","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/ManualOfferDetail"}}}}}}}}},"/frontend/points/points_account":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"获取积分账户列表","description":"获取积分账户列表","parameters":[{"name":"union_id","in":"query","description":"积分账户id","schema":{"type":"string"}},{"name":"username","in":"query","description":"账户名称","schema":{"type":"string"}},{"name":"department_id","in":"query","description":"部门id","schema":{"type":"integer"}},{"name":"role_type","in":"query","description":"（必填字段）账户角色：merchant 商户， operator 运营账户，operable_merchant 可运营商户， member 会员账户","schema":{"type":"string"}},{"name":"status","in":"query","description":"账户状态：freeze 已冻结，activation 正常，not_activated 未激活","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/entry/BusinessAccounts"}}}}}}}}},"/frontend/points/business_account/add":{"post":{"tags":["积分系统","积分系统-B端接口"],"summary":"新增运营账户","description":"新增运营账户","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/BusinessAccountBase"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/business_account/update":{"post":{"tags":["积分系统"],"summary":"更新运营账户","description":"更新运营账户","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/entry/BusinessAccountUpdate"}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/business_account/delete":{"get":{"tags":["积分系统"],"summary":"删除运营账户","description":"删除运营账户","parameters":[{"name":"account_id","in":"query","description":"积分账户id","schema":{"type":"string"},"required":["account_id"]}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/points_account/change_status":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"冻结/解冻积分账户","description":"冻结/解冻积分账户","parameters":[{"name":"account_id","in":"query","description":"积分账户id","schema":{"type":"string"}},{"name":"status","in":"query","description":"状态：activation解冻，freeze冻结","schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/points_application/operate":{"post":{"tags":["积分系统","积分系统-B端接口"],"summary":"新增/更新运营账户预算申请","description":"新增/更新运营账户预算申请","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"id","example":1,"required":true},"department_id":{"type":"integer","description":"部门id","example":1,"required":true},"union_id":{"type":"string","description":"积分账户id","example":122148622435432,"required":true},"amount":{"type":"integer","description":"申请额度","example":900,"required":true},"description":{"type":"string","description":"积分预算使用说明","example":"用来干啥","required":true},"file_url":{"type":"string","description":"附件地址","example":"http://xxx/xxx.jpg","required":true},"file_name":{"type":"string","description":"附件原文件名称","example":"xxx.jpg","required":true},"status":{"type":"string","description":"操作状态：0暂存，1提交审核","example":1,"required":true}}}}}},"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/points_application/approval":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"积分预算审批","description":"积分预算审批","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"}},{"name":"result","in":"query","description":"审批结果：0通过，1拒绝","schema":{"type":"integer"}},{"name":"remark","in":"query","description":"备注信息","schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/points_application":{"get":{"tags":["积分系统","积分系统-B端接口"],"summary":"运营账户预算申请列表（审批列表也是同一个）","description":"运营账户预算申请列表（审批列表也是同一个）","parameters":[{"name":"type","in":"query","description":"列表类型：list申请记录列表，approval审批列表 （此字段必填）","schema":{"type":"string"},"required":true},{"name":"id","in":"query","description":"预算编号id","schema":{"type":"integer"},"required":false},{"name":"department_id","in":"query","description":"部门id","schema":{"type":"integer"},"required":false},{"name":"account_name","in":"query","description":"账户名称","schema":{"type":"string"},"required":false},{"name":"start_time","in":"query","description":"预算发起开始时间","schema":{"type":"string"},"required":false},{"name":"end_time","in":"query","description":"预算发起结束时间","schema":{"type":"string"},"required":false},{"name":"user_id","in":"query","description":"发起人id","schema":{"type":"integer"},"required":false},{"name":"status","in":"query","description":"状态：1-审核中,2-审核通过,3-审核拒绝","schema":{"type":"integer"},"required":false},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"id":{"type":"integer","description":"id","example":1},"edit_by":{"type":"integer","description":"发起人id","example":1},"user_name":{"type":"string","description":"发起人名称","example":"火火"},"union_id":{"type":"string","description":"账户id","example":19872817774363},"account_name":{"type":"string","description":"账户名称","example":"什么账户"},"department_id":{"type":"integer","description":"部门id","example":1},"department_name":{"type":"integer","description":"部门名称","example":"会员部"},"amount":{"type":"integer","description":"预算积分额度","example":100},"balance":{"type":"integer","description":"积分余额","example":1},"status":{"type":"integer","description":"状态：0未完成，1审核中，2审批通过，3审批拒绝","example":1},"created_at":{"type":"string","description":"发起时间","example":"2019-09-26 14:57:07"},"updated_at":{"type":"string","description":"操作时间","example":"2019-09-26 14:57:07"}}}}}}}}}}},"/frontend/points/points_application/cancel":{"get":{"tags":["积分系统"],"summary":"取消积分预算申请","description":"取消积分预算申请","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/points_application/delete":{"get":{"tags":["积分系统"],"summary":"删除积分预算申请","description":"删除积分预算申请","parameters":[{"name":"id","in":"query","description":"id","schema":{"type":"integer"},"required":true}],"responses":{"200":{"$ref":"#/components/responses/Standard200SuccessResponse"}}}},"/frontend/points/member_account/points_detail":{"get":{"tags":["积分系统"],"summary":"会员积分账户明细","description":"会员积分账户明细","parameters":[{"name":"union_id","in":"query","description":"会员账户id","schema":{"type":"string"},"required":true},{"name":"start_time","in":"query","description":"开始日期","schema":{"type":"string"}},{"name":"end_time","in":"query","description":"结束日期","schema":{"type":"string"}},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"流水号","example":2212},"flow_type":{"type":"string","description":"变动类型","example":"policy-offer"},"change":{"type":"integer","description":"变动积分数","example":10},"surplus":{"type":"integer","description":"积分总数","example":1000},"order_id":{"type":"string","description":"相关订单号","example":"f9a49d6c-c5bd-4ebd-9223-599bbf76e94d"},"remark":{"type":"string","description":"备注","example":"一大堆"},"created_at":{"type":"string","description":"变动时间","example":"2019-09-29 19:34:33"}}}}}}}}}}}}}},"/frontend/points/member_account/points_valid":{"get":{"tags":["积分系统"],"summary":"会员积分有效期列表","description":"会员积分有效期列表","parameters":[{"name":"union_id","in":"query","description":"会员账户id","schema":{"type":"string"},"required":true},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/pageSizeParam"}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"id","example":1},"union_id":{"type":"string","description":"账户id","example":13232452},"balance_amount":{"type":"integer","description":"积分余额","example":1},"expire_at":{"type":"string","description":"过期时间","example":"2019-10-10 23:59:59"}}}}}}}}}}}}}},"/frontend/points/member_account/info":{"get":{"tags":["积分系统"],"summary":"会员账户信息，昵称+余额","description":"会员账户信息，昵称+余额","parameters":[{"name":"union_id","in":"query","description":"会员账户id","schema":{"type":"string"},"required":true}],"responses":{"200":{"description":"Successful. 以分页的方式返回记录","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"object","properties":{"nick_name":{"type":"string","description":"账户昵称","example":"你是猪"},"balance":{"type":"integer","description":"积分余额","example":10},"updated_at":{"type":"string","description":"更新时间","example":"2019-09-29 19:34:33"}}}}}}}}}}},"/health_check":{"url":"https://member-tennat-system.dev/","get":{"servers":[{"url":"https://member-tennat-system.dev/","description":"Only for health check"}],"tags":["Public"],"summary":"健康检查","description":"检查服务是否正常，此接口地址不需要带 API 和版本号。","responses":{"200":{"description":"Successful","content":{"text/plain":{"schema":{"type":"string","example":"ok"}}}},"401":{"$ref":"#/components/responses/Standard401ErrorResponse"},"4XX":{"$ref":"#/components/responses/Standard4XXErrorResponse"}}}}}}